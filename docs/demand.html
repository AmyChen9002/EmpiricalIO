<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 4 Demand Function Estimation | ECON 6120I Topics in Empirical Industrial Organization</title>
  <meta name="description" content="Thie is a lecture note for ECON6120I at Hong Kong University of Science and Technology.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 4 Demand Function Estimation | ECON 6120I Topics in Empirical Industrial Organization />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Thie is a lecture note for ECON6120I at Hong Kong University of Science and Technology." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Demand Function Estimation | ECON 6120I Topics in Empirical Industrial Organization />
  
  <meta name="twitter:description" content="Thie is a lecture note for ECON6120I at Hong Kong University of Science and Technology." />
  

<meta name="author" content="Kohei Kawaguchi">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="production.html">
<link rel="next" href="assignment1.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">ECON6120I</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Syllabus</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#instructor-information"><i class="fa fa-check"></i><b>1.1</b> Instructor Information</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#general-information"><i class="fa fa-check"></i><b>1.2</b> General Information</a><ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#class-time"><i class="fa fa-check"></i><b>1.2.1</b> Class Time</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#description"><i class="fa fa-check"></i><b>1.2.2</b> Description</a></li>
<li class="chapter" data-level="1.2.3" data-path="index.html"><a href="index.html#expectation-and-goals"><i class="fa fa-check"></i><b>1.2.3</b> Expectation and Goals</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#required-environment"><i class="fa fa-check"></i><b>1.3</b> Required Environment</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#evaluation"><i class="fa fa-check"></i><b>1.4</b> Evaluation</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#academic-integrity"><i class="fa fa-check"></i><b>1.5</b> Academic Integrity</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#schedule"><i class="fa fa-check"></i><b>1.6</b> Schedule</a></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#course-materials"><i class="fa fa-check"></i><b>1.7</b> Course Materials</a><ul>
<li class="chapter" data-level="1.7.1" data-path="index.html"><a href="index.html#r-and-rstudio"><i class="fa fa-check"></i><b>1.7.1</b> R and RStudio</a></li>
<li class="chapter" data-level="1.7.2" data-path="index.html"><a href="index.html#handbook-chapters"><i class="fa fa-check"></i><b>1.7.2</b> Handbook Chapters</a></li>
<li class="chapter" data-level="1.7.3" data-path="index.html"><a href="index.html#books"><i class="fa fa-check"></i><b>1.7.3</b> Books</a></li>
<li class="chapter" data-level="1.7.4" data-path="index.html"><a href="index.html#papers"><i class="fa fa-check"></i><b>1.7.4</b> Papers</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#structural-estimation-and-counterfactual-analysis"><i class="fa fa-check"></i><b>2.1</b> Structural Estimation and Counterfactual Analysis</a><ul>
<li class="chapter" data-level="2.1.1" data-path="intro.html"><a href="intro.html#example"><i class="fa fa-check"></i><b>2.1.1</b> Example</a></li>
<li class="chapter" data-level="2.1.2" data-path="intro.html"><a href="intro.html#recap"><i class="fa fa-check"></i><b>2.1.2</b> Recap</a></li>
<li class="chapter" data-level="2.1.3" data-path="intro.html"><a href="intro.html#historical-remark"><i class="fa fa-check"></i><b>2.1.3</b> Historical Remark</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#setting-up-the-environment"><i class="fa fa-check"></i><b>2.2</b> Setting Up The Environment</a><ul>
<li class="chapter" data-level="2.2.1" data-path="intro.html"><a href="intro.html#rstudio-project"><i class="fa fa-check"></i><b>2.2.1</b> RStudio Project</a></li>
<li class="chapter" data-level="2.2.2" data-path="intro.html"><a href="intro.html#basic-programming-in-r"><i class="fa fa-check"></i><b>2.2.2</b> Basic Programming in R</a></li>
<li class="chapter" data-level="2.2.3" data-path="intro.html"><a href="intro.html#reproducible-reports-using-rmarkdown"><i class="fa fa-check"></i><b>2.2.3</b> Reproducible Reports using Rmarkdown</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="production.html"><a href="production.html"><i class="fa fa-check"></i><b>3</b> Production and Cost Function Estimation</a><ul>
<li class="chapter" data-level="3.1" data-path="production.html"><a href="production.html#motivations"><i class="fa fa-check"></i><b>3.1</b> Motivations</a><ul>
<li class="chapter" data-level="3.1.1" data-path="production.html"><a href="production.html#io"><i class="fa fa-check"></i><b>3.1.1</b> IO</a></li>
<li class="chapter" data-level="3.1.2" data-path="production.html"><a href="production.html#development"><i class="fa fa-check"></i><b>3.1.2</b> Development</a></li>
<li class="chapter" data-level="3.1.3" data-path="production.html"><a href="production.html#trade"><i class="fa fa-check"></i><b>3.1.3</b> Trade</a></li>
<li class="chapter" data-level="3.1.4" data-path="production.html"><a href="production.html#management"><i class="fa fa-check"></i><b>3.1.4</b> Management</a></li>
<li class="chapter" data-level="3.1.5" data-path="production.html"><a href="production.html#education"><i class="fa fa-check"></i><b>3.1.5</b> Education</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="production.html"><a href="production.html#analyzing-producer-behaviors"><i class="fa fa-check"></i><b>3.2</b> Analyzing Producer Behaviors</a></li>
<li class="chapter" data-level="3.3" data-path="production.html"><a href="production.html#production-function-estimation"><i class="fa fa-check"></i><b>3.3</b> Production Function Estimation</a><ul>
<li class="chapter" data-level="3.3.1" data-path="production.html"><a href="production.html#cobb-douglas-specification-as-a-benchmark"><i class="fa fa-check"></i><b>3.3.1</b> Cobb-Douglas Specification as a Benchmark</a></li>
<li class="chapter" data-level="3.3.2" data-path="production.html"><a href="production.html#potential-bias-i-endogeneity"><i class="fa fa-check"></i><b>3.3.2</b> Potential Bias I: Endogeneity</a></li>
<li class="chapter" data-level="3.3.3" data-path="production.html"><a href="production.html#potential-bias-ii-selection"><i class="fa fa-check"></i><b>3.3.3</b> Potential Bias II: Selection</a></li>
<li class="chapter" data-level="3.3.4" data-path="production.html"><a href="production.html#how-to-resolve-endogeneity-bias"><i class="fa fa-check"></i><b>3.3.4</b> How to Resolve Endogeneity Bias?</a></li>
<li class="chapter" data-level="3.3.5" data-path="production.html"><a href="production.html#panel-data"><i class="fa fa-check"></i><b>3.3.5</b> Panel Data</a></li>
<li class="chapter" data-level="3.3.6" data-path="production.html"><a href="production.html#first-order-condition-for-inputs"><i class="fa fa-check"></i><b>3.3.6</b> First-Order Condition for Inputs</a></li>
<li class="chapter" data-level="3.3.7" data-path="production.html"><a href="production.html#productioniv"><i class="fa fa-check"></i><b>3.3.7</b> Instrumental Variable</a></li>
<li class="chapter" data-level="3.3.8" data-path="production.html"><a href="production.html#olley-pakes-approach"><i class="fa fa-check"></i><b>3.3.8</b> Olley-Pakes Approach</a></li>
<li class="chapter" data-level="3.3.9" data-path="production.html"><a href="production.html#assumption-i-information-set"><i class="fa fa-check"></i><b>3.3.9</b> Assumption I: Information Set</a></li>
<li class="chapter" data-level="3.3.10" data-path="production.html"><a href="production.html#assumption-ii-first-order-markov"><i class="fa fa-check"></i><b>3.3.10</b> Assumption II: First Order Markov</a></li>
<li class="chapter" data-level="3.3.11" data-path="production.html"><a href="production.html#assumption-iii-timing-of-input-choices"><i class="fa fa-check"></i><b>3.3.11</b> Assumption III: Timing of Input Choices</a></li>
<li class="chapter" data-level="3.3.12" data-path="production.html"><a href="production.html#assumption-iv-scalar-unobservable"><i class="fa fa-check"></i><b>3.3.12</b> Assumption IV: Scalar Unobservable</a></li>
<li class="chapter" data-level="3.3.13" data-path="production.html"><a href="production.html#assumption-iv-strict-monotonicity"><i class="fa fa-check"></i><b>3.3.13</b> Assumption IV: Strict Monotonicity</a></li>
<li class="chapter" data-level="3.3.14" data-path="production.html"><a href="production.html#two-step-approach-the-first-step"><i class="fa fa-check"></i><b>3.3.14</b> Two-step Approach: The First Step</a></li>
<li class="chapter" data-level="3.3.15" data-path="production.html"><a href="production.html#two-step-approach-the-second-step"><i class="fa fa-check"></i><b>3.3.15</b> Two-step Approach: The Second Step</a></li>
<li class="chapter" data-level="3.3.16" data-path="production.html"><a href="production.html#identification-of-the-anticipated-shocks"><i class="fa fa-check"></i><b>3.3.16</b> Identification of the Anticipated Shocks</a></li>
<li class="chapter" data-level="3.3.17" data-path="production.html"><a href="production.html#two-step-estimation-of-olley1996."><i class="fa fa-check"></i><b>3.3.17</b> Two-Step Estimation of <span class="citation">Olley &amp; Pakes (<a href="#ref-Olley1996">1996</a>)</span>.</a></li>
<li class="chapter" data-level="3.3.18" data-path="production.html"><a href="production.html#from-an-economic-models-to-an-econometric-model"><i class="fa fa-check"></i><b>3.3.18</b> From An Economic Models to An Econometric Model</a></li>
<li class="chapter" data-level="3.3.19" data-path="production.html"><a href="production.html#how-to-resolve-selection-bias"><i class="fa fa-check"></i><b>3.3.19</b> How to Resolve Selection Bias</a></li>
<li class="chapter" data-level="3.3.20" data-path="production.html"><a href="production.html#correction-in-the-first-step"><i class="fa fa-check"></i><b>3.3.20</b> Correction in the First Step</a></li>
<li class="chapter" data-level="3.3.21" data-path="production.html"><a href="production.html#correction-in-the-second-step-i-the-source-of-bias"><i class="fa fa-check"></i><b>3.3.21</b> Correction in the Second Step I: The Source of Bias</a></li>
<li class="chapter" data-level="3.3.22" data-path="production.html"><a href="production.html#correction-in-the-second-step-ii-conditional-exit-probability"><i class="fa fa-check"></i><b>3.3.22</b> Correction in the Second Step II: Conditional Exit Probability</a></li>
<li class="chapter" data-level="3.3.23" data-path="production.html"><a href="production.html#correction-in-the-second-step-iii-invertibility-in-threshold"><i class="fa fa-check"></i><b>3.3.23</b> Correction in the Second Step III: Invertibility in Threshold</a></li>
<li class="chapter" data-level="3.3.24" data-path="production.html"><a href="production.html#correction-in-the-second-step-iv-controlling-the-threshold"><i class="fa fa-check"></i><b>3.3.24</b> Correction in the Second Step IV: Controlling the Threshold</a></li>
<li class="chapter" data-level="3.3.25" data-path="production.html"><a href="production.html#three-step-estimation-of-olley1996"><i class="fa fa-check"></i><b>3.3.25</b> Three Step Estimation of <span class="citation">Olley &amp; Pakes (<a href="#ref-Olley1996">1996</a>)</span></a></li>
<li class="chapter" data-level="3.3.26" data-path="production.html"><a href="production.html#zero-investment-problem"><i class="fa fa-check"></i><b>3.3.26</b> Zero Investment Problem</a></li>
<li class="chapter" data-level="3.3.27" data-path="production.html"><a href="production.html#tackle-zero-investment-problem-i-discard-some-data"><i class="fa fa-check"></i><b>3.3.27</b> Tackle Zero Investment Problem I: Discard Some Data</a></li>
<li class="chapter" data-level="3.3.28" data-path="production.html"><a href="production.html#tackle-zero-investment-problem-ii-use-another-proxy"><i class="fa fa-check"></i><b>3.3.28</b> Tackle Zero Investment Problem II: Use Another Proxy</a></li>
<li class="chapter" data-level="3.3.29" data-path="production.html"><a href="production.html#one-step-estimation-of-olley1996-and-levinsohn2003"><i class="fa fa-check"></i><b>3.3.29</b> One-step Estimation of <span class="citation">Olley &amp; Pakes (<a href="#ref-Olley1996">1996</a>)</span> and <span class="citation">Levinsohn &amp; Petrin (<a href="#ref-Levinsohn2003">2003</a>)</span></a></li>
<li class="chapter" data-level="3.3.30" data-path="production.html"><a href="production.html#scalar-unobservable-problem-finite-order-markov-process"><i class="fa fa-check"></i><b>3.3.30</b> Scalar Unobservable Problem: Finite-order Markov Process</a></li>
<li class="chapter" data-level="3.3.31" data-path="production.html"><a href="production.html#scalar-unobservable-problem-demand-and-productivity-shocks"><i class="fa fa-check"></i><b>3.3.31</b> Scalar Unobservable Problem: Demand and Productivity Shocks</a></li>
<li class="chapter" data-level="3.3.32" data-path="production.html"><a href="production.html#collinearity-problem"><i class="fa fa-check"></i><b>3.3.32</b> Collinearity Problem</a></li>
<li class="chapter" data-level="3.3.33" data-path="production.html"><a href="production.html#tackle-collinearity-problem-peculiar-assumptions"><i class="fa fa-check"></i><b>3.3.33</b> Tackle Collinearity Problem: Peculiar Assumptions</a></li>
<li class="chapter" data-level="3.3.34" data-path="production.html"><a href="production.html#tackle-collinearity-problem-share-regression"><i class="fa fa-check"></i><b>3.3.34</b> Tackle Collinearity Problem: Share Regression</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="production.html"><a href="production.html#cost-function-estimation"><i class="fa fa-check"></i><b>3.4</b> Cost Function Estimation</a><ul>
<li class="chapter" data-level="3.4.1" data-path="production.html"><a href="production.html#cost-function-duality"><i class="fa fa-check"></i><b>3.4.1</b> Cost Function: Duality</a></li>
<li class="chapter" data-level="3.4.2" data-path="production.html"><a href="production.html#translog-cost-function"><i class="fa fa-check"></i><b>3.4.2</b> Translog Cost Function</a></li>
<li class="chapter" data-level="3.4.3" data-path="production.html"><a href="production.html#translog-cost-function-integrability"><i class="fa fa-check"></i><b>3.4.3</b> Translog Cost Function: Integrability</a></li>
<li class="chapter" data-level="3.4.4" data-path="production.html"><a href="production.html#two-approaches"><i class="fa fa-check"></i><b>3.4.4</b> Two Approaches</a></li>
<li class="chapter" data-level="3.4.5" data-path="production.html"><a href="production.html#cost-data-approach"><i class="fa fa-check"></i><b>3.4.5</b> Cost Data Approach</a></li>
<li class="chapter" data-level="3.4.6" data-path="production.html"><a href="production.html#revealed-preference-approach"><i class="fa fa-check"></i><b>3.4.6</b> Revealed Preference Approach</a></li>
<li class="chapter" data-level="3.4.7" data-path="production.html"><a href="production.html#single-product-monopolist"><i class="fa fa-check"></i><b>3.4.7</b> Single-product Monopolist</a></li>
<li class="chapter" data-level="3.4.8" data-path="production.html"><a href="production.html#unobserved-heterogeneity-in-the-cost-function"><i class="fa fa-check"></i><b>3.4.8</b> Unobserved Heterogeneity in the Cost Function</a></li>
<li class="chapter" data-level="3.4.9" data-path="production.html"><a href="production.html#multi-product-monopolist-case"><i class="fa fa-check"></i><b>3.4.9</b> Multi-product Monopolist Case</a></li>
<li class="chapter" data-level="3.4.10" data-path="production.html"><a href="production.html#oligopoly"><i class="fa fa-check"></i><b>3.4.10</b> Oligopoly</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="demand.html"><a href="demand.html"><i class="fa fa-check"></i><b>4</b> Demand Function Estimation</a><ul>
<li class="chapter" data-level="4.1" data-path="demand.html"><a href="demand.html#motivations-1"><i class="fa fa-check"></i><b>4.1</b> Motivations</a></li>
<li class="chapter" data-level="4.2" data-path="demand.html"><a href="demand.html#analyzing-consumer-behaviors"><i class="fa fa-check"></i><b>4.2</b> Analyzing Consumer Behaviors</a></li>
<li class="chapter" data-level="4.3" data-path="demand.html"><a href="demand.html#continuous-choice"><i class="fa fa-check"></i><b>4.3</b> Continuous Choice</a><ul>
<li class="chapter" data-level="4.3.1" data-path="demand.html"><a href="demand.html#utility-function-estimation"><i class="fa fa-check"></i><b>4.3.1</b> Utility Function Estimation</a></li>
<li class="chapter" data-level="4.3.2" data-path="demand.html"><a href="demand.html#starting-from-a-utility-function-difficulty"><i class="fa fa-check"></i><b>4.3.2</b> Starting from a Utility Function: Difficulty</a></li>
<li class="chapter" data-level="4.3.3" data-path="demand.html"><a href="demand.html#duality-between-utility-and-expenditure-functions"><i class="fa fa-check"></i><b>4.3.3</b> Duality between Utility and Expenditure Functions</a></li>
<li class="chapter" data-level="4.3.4" data-path="demand.html"><a href="demand.html#starting-from-an-expenditure-function"><i class="fa fa-check"></i><b>4.3.4</b> Starting from an Expenditure Function</a></li>
<li class="chapter" data-level="4.3.5" data-path="demand.html"><a href="demand.html#deriving-other-functions"><i class="fa fa-check"></i><b>4.3.5</b> Deriving Other Functions</a></li>
<li class="chapter" data-level="4.3.6" data-path="demand.html"><a href="demand.html#starting-from-an-indirect-utility-function"><i class="fa fa-check"></i><b>4.3.6</b> Starting from an Indirect Utility Function</a></li>
<li class="chapter" data-level="4.3.7" data-path="demand.html"><a href="demand.html#expenditure-share-equation"><i class="fa fa-check"></i><b>4.3.7</b> Expenditure Share Equation</a></li>
<li class="chapter" data-level="4.3.8" data-path="demand.html"><a href="demand.html#almost-ideal-demand-system-aids"><i class="fa fa-check"></i><b>4.3.8</b> Almost Ideal Demand System (AIDS)</a></li>
<li class="chapter" data-level="4.3.9" data-path="demand.html"><a href="demand.html#piglog-class"><i class="fa fa-check"></i><b>4.3.9</b> PIGLOG Class</a></li>
<li class="chapter" data-level="4.3.10" data-path="demand.html"><a href="demand.html#specify-the-detail"><i class="fa fa-check"></i><b>4.3.10</b> Specify the Detail</a></li>
<li class="chapter" data-level="4.3.11" data-path="demand.html"><a href="demand.html#derive-the-share-equation-i"><i class="fa fa-check"></i><b>4.3.11</b> Derive the Share Equation I</a></li>
<li class="chapter" data-level="4.3.12" data-path="demand.html"><a href="demand.html#derive-the-share-equation-ii"><i class="fa fa-check"></i><b>4.3.12</b> Derive the Share Equation II</a></li>
<li class="chapter" data-level="4.3.13" data-path="demand.html"><a href="demand.html#specify-the-detail-ii"><i class="fa fa-check"></i><b>4.3.13</b> Specify the Detail II</a></li>
<li class="chapter" data-level="4.3.14" data-path="demand.html"><a href="demand.html#estimation"><i class="fa fa-check"></i><b>4.3.14</b> Estimation</a></li>
<li class="chapter" data-level="4.3.15" data-path="demand.html"><a href="demand.html#from-product-space-approach-to-characteristics-space-approach"><i class="fa fa-check"></i><b>4.3.15</b> From Product Space Approach to Characteristics Space Approach</a></li>
<li class="chapter" data-level="4.3.16" data-path="demand.html"><a href="demand.html#from-continuous-choice-approach-to-discrete-choice-approach"><i class="fa fa-check"></i><b>4.3.16</b> From Continuous Choice Approach to Discrete Choice Approach</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="demand.html"><a href="demand.html#discrete-choice-approach"><i class="fa fa-check"></i><b>4.4</b> Discrete Choice Approach</a><ul>
<li class="chapter" data-level="4.4.1" data-path="demand.html"><a href="demand.html#discrete-choice-approach-1"><i class="fa fa-check"></i><b>4.4.1</b> Discrete Choice Approach</a></li>
<li class="chapter" data-level="4.4.2" data-path="demand.html"><a href="demand.html#discrete-choice-approach-2"><i class="fa fa-check"></i><b>4.4.2</b> Discrete Choice Approach</a></li>
<li class="chapter" data-level="4.4.3" data-path="demand.html"><a href="demand.html#discrete-choice-approach-3"><i class="fa fa-check"></i><b>4.4.3</b> Discrete Choice Approach</a></li>
<li class="chapter" data-level="4.4.4" data-path="demand.html"><a href="demand.html#characteristics-space-approach"><i class="fa fa-check"></i><b>4.4.4</b> Characteristics Space Approach</a></li>
<li class="chapter" data-level="4.4.5" data-path="demand.html"><a href="demand.html#characteristics-space-approach-1"><i class="fa fa-check"></i><b>4.4.5</b> Characteristics Space Approach</a></li>
<li class="chapter" data-level="4.4.6" data-path="demand.html"><a href="demand.html#weak-separability-and-income-effect"><i class="fa fa-check"></i><b>4.4.6</b> Weak Separability and Income Effect</a></li>
<li class="chapter" data-level="4.4.7" data-path="demand.html"><a href="demand.html#weak-separability-and-income-effect-1"><i class="fa fa-check"></i><b>4.4.7</b> Weak Separability and Income Effect</a></li>
<li class="chapter" data-level="4.4.8" data-path="demand.html"><a href="demand.html#utility-function-normalization"><i class="fa fa-check"></i><b>4.4.8</b> Utility Function Normalization</a></li>
<li class="chapter" data-level="4.4.9" data-path="demand.html"><a href="demand.html#aggregation-of-the-individual-demand"><i class="fa fa-check"></i><b>4.4.9</b> Aggregation of the Individual Demand</a></li>
<li class="chapter" data-level="4.4.10" data-path="demand.html"><a href="demand.html#horizontal-product-differentiation"><i class="fa fa-check"></i><b>4.4.10</b> Horizontal Product Differentiation</a></li>
<li class="chapter" data-level="4.4.11" data-path="demand.html"><a href="demand.html#horizontal-product-differentiation-1"><i class="fa fa-check"></i><b>4.4.11</b> Horizontal Product Differentiation</a></li>
<li class="chapter" data-level="4.4.12" data-path="demand.html"><a href="demand.html#vertical-product-differentiation"><i class="fa fa-check"></i><b>4.4.12</b> Vertical Product Differentiation</a></li>
<li class="chapter" data-level="4.4.13" data-path="demand.html"><a href="demand.html#vertical-product-differentiation-1"><i class="fa fa-check"></i><b>4.4.13</b> Vertical Product Differentiation</a></li>
<li class="chapter" data-level="4.4.14" data-path="demand.html"><a href="demand.html#econometric-models"><i class="fa fa-check"></i><b>4.4.14</b> Econometric Models</a></li>
<li class="chapter" data-level="4.4.15" data-path="demand.html"><a href="demand.html#multinomial-logit-model-preference-shock"><i class="fa fa-check"></i><b>4.4.15</b> Multinomial Logit Model: Preference Shock</a></li>
<li class="chapter" data-level="4.4.16" data-path="demand.html"><a href="demand.html#multinomial-logit-model-distributional-assumption"><i class="fa fa-check"></i><b>4.4.16</b> Multinomial Logit Model: Distributional Assumption</a></li>
<li class="chapter" data-level="4.4.17" data-path="demand.html"><a href="demand.html#multinomial-logit-model-choice-probability"><i class="fa fa-check"></i><b>4.4.17</b> Multinomial Logit Model: Choice Probability</a></li>
<li class="chapter" data-level="4.4.18" data-path="demand.html"><a href="demand.html#multinomial-logit-model-inclusive-value"><i class="fa fa-check"></i><b>4.4.18</b> Multinomial Logit Model: Inclusive Value</a></li>
<li class="chapter" data-level="4.4.19" data-path="demand.html"><a href="demand.html#maximum-likelihood-estimation-of-multinomial-logit-model"><i class="fa fa-check"></i><b>4.4.19</b> Maximum Likelihood Estimation of Multinomial Logit Model</a></li>
<li class="chapter" data-level="4.4.20" data-path="demand.html"><a href="demand.html#nonlinear-least-square-estimation-of-multinomial-logit-model"><i class="fa fa-check"></i><b>4.4.20</b> Nonlinear Least Square Estimation of Multinomial Logit Model</a></li>
<li class="chapter" data-level="4.4.21" data-path="demand.html"><a href="demand.html#nonlinear-least-square-estimation-of-multinomial-logit-model-1"><i class="fa fa-check"></i><b>4.4.21</b> Nonlinear Least Square Estimation of Multinomial Logit Model</a></li>
<li class="chapter" data-level="4.4.22" data-path="demand.html"><a href="demand.html#nonlinear-least-square-estimation-of-multinomial-logit-model-2"><i class="fa fa-check"></i><b>4.4.22</b> Nonlinear Least Square Estimation of Multinomial Logit Model</a></li>
<li class="chapter" data-level="4.4.23" data-path="demand.html"><a href="demand.html#nonlinear-least-square-estimation-of-multinomial-logit-model-3"><i class="fa fa-check"></i><b>4.4.23</b> Nonlinear Least Square Estimation of Multinomial Logit Model</a></li>
<li class="chapter" data-level="4.4.24" data-path="demand.html"><a href="demand.html#iia-problem"><i class="fa fa-check"></i><b>4.4.24</b> IIA Problem</a></li>
<li class="chapter" data-level="4.4.25" data-path="demand.html"><a href="demand.html#blue-bus-and-red-bus-problem"><i class="fa fa-check"></i><b>4.4.25</b> Blue Bus and Red Bus Problem</a></li>
<li class="chapter" data-level="4.4.26" data-path="demand.html"><a href="demand.html#restrictive-price-elasticity"><i class="fa fa-check"></i><b>4.4.26</b> Restrictive Price Elasticity</a></li>
<li class="chapter" data-level="4.4.27" data-path="demand.html"><a href="demand.html#restrictive-price-elasticity-1"><i class="fa fa-check"></i><b>4.4.27</b> Restrictive Price Elasticity</a></li>
<li class="chapter" data-level="4.4.28" data-path="demand.html"><a href="demand.html#monotonic-inclusive-value"><i class="fa fa-check"></i><b>4.4.28</b> Monotonic Inclusive Value</a></li>
<li class="chapter" data-level="4.4.29" data-path="demand.html"><a href="demand.html#the-source-of-the-problem"><i class="fa fa-check"></i><b>4.4.29</b> The Source of the Problem</a></li>
<li class="chapter" data-level="4.4.30" data-path="demand.html"><a href="demand.html#to-resolve-the-problem"><i class="fa fa-check"></i><b>4.4.30</b> To Resolve the Problem</a></li>
<li class="chapter" data-level="4.4.31" data-path="demand.html"><a href="demand.html#mixed-logit-model-random-coefficient-model"><i class="fa fa-check"></i><b>4.4.31</b> Mixed Logit Model (Random-coefficient Model)</a></li>
<li class="chapter" data-level="4.4.32" data-path="demand.html"><a href="demand.html#mixed-logit-model-random-coefficient-model-1"><i class="fa fa-check"></i><b>4.4.32</b> Mixed Logit Model (Random-coefficient Model)</a></li>
<li class="chapter" data-level="4.4.33" data-path="demand.html"><a href="demand.html#mixed-logit-moel-price-elasticities"><i class="fa fa-check"></i><b>4.4.33</b> Mixed Logit Moel: Price Elasticities</a></li>
<li class="chapter" data-level="4.4.34" data-path="demand.html"><a href="demand.html#mixed-logit-model-including-consumer-characteristics"><i class="fa fa-check"></i><b>4.4.34</b> Mixed Logit Model: Including Consumer Characteristics</a></li>
<li class="chapter" data-level="4.4.35" data-path="demand.html"><a href="demand.html#simulated-maximum-likelihood-estimation-of-the-mixed-logit-model-random-coefficient-model"><i class="fa fa-check"></i><b>4.4.35</b> Simulated Maximum Likelihood Estimation of the Mixed Logit Model (Random-coefficient Model)</a></li>
<li class="chapter" data-level="4.4.36" data-path="demand.html"><a href="demand.html#simulated-maximum-likelihood-estimation-of-the-mixed-logit-model-random-coefficient-model-1"><i class="fa fa-check"></i><b>4.4.36</b> Simulated Maximum Likelihood Estimation of the Mixed Logit Model (Random-coefficient Model)</a></li>
<li class="chapter" data-level="4.4.37" data-path="demand.html"><a href="demand.html#simulated-non-linear-least-square-estimation-of-the-mixed-logit-model-random-coefficient-model"><i class="fa fa-check"></i><b>4.4.37</b> Simulated Non-linear Least Square Estimation of the Mixed Logit Model (Random-coefficient model)</a></li>
<li class="chapter" data-level="4.4.38" data-path="demand.html"><a href="demand.html#nested-logit-model-a-special-case-of-mixed-logit-model"><i class="fa fa-check"></i><b>4.4.38</b> Nested Logit Model: A Special Case of Mixed Logit Model</a></li>
<li class="chapter" data-level="4.4.39" data-path="demand.html"><a href="demand.html#nested-logit-model"><i class="fa fa-check"></i><b>4.4.39</b> Nested Logit Model</a></li>
<li class="chapter" data-level="4.4.40" data-path="demand.html"><a href="demand.html#nested-logit-model-1"><i class="fa fa-check"></i><b>4.4.40</b> Nested Logit Model</a></li>
<li class="chapter" data-level="4.4.41" data-path="demand.html"><a href="demand.html#discrete-choice-model-with-endogenous-variables"><i class="fa fa-check"></i><b>4.4.41</b> Discrete Choice Model with Endogenous Variables</a></li>
<li class="chapter" data-level="4.4.42" data-path="demand.html"><a href="demand.html#market-level-data"><i class="fa fa-check"></i><b>4.4.42</b> Market-level Data</a></li>
<li class="chapter" data-level="4.4.43" data-path="demand.html"><a href="demand.html#unobserved-fixed-effects-in-multinomial-logit-model"><i class="fa fa-check"></i><b>4.4.43</b> Unobserved Fixed Effects in Multinomial Logit Model</a></li>
<li class="chapter" data-level="4.4.44" data-path="demand.html"><a href="demand.html#unobserved-fixed-effects-in-multinomial-logit-model-1"><i class="fa fa-check"></i><b>4.4.44</b> Unobserved Fixed Effects in Multinomial Logit Model</a></li>
<li class="chapter" data-level="4.4.45" data-path="demand.html"><a href="demand.html#unobserved-fixed-effects-in-multinomial-logit-model-2"><i class="fa fa-check"></i><b>4.4.45</b> Unobserved Fixed Effects in Multinomial Logit Model</a></li>
<li class="chapter" data-level="4.4.46" data-path="demand.html"><a href="demand.html#unobserved-fixed-effects-in-multinomial-logit-model-3"><i class="fa fa-check"></i><b>4.4.46</b> Unobserved Fixed Effects in Multinomial Logit Model</a></li>
<li class="chapter" data-level="4.4.47" data-path="demand.html"><a href="demand.html#unobserved-fixed-effects-in-mixed-logit-model"><i class="fa fa-check"></i><b>4.4.47</b> Unobserved Fixed Effects in Mixed-logit Model</a></li>
<li class="chapter" data-level="4.4.48" data-path="demand.html"><a href="demand.html#unobserved-fixed-effects-in-mixed-logit-model-1"><i class="fa fa-check"></i><b>4.4.48</b> Unobserved Fixed Effects in Mixed-logit Model</a></li>
<li class="chapter" data-level="4.4.49" data-path="demand.html"><a href="demand.html#representing-xi_jt-as-a-function-of-parameters-of-interest"><i class="fa fa-check"></i><b>4.4.49</b> Representing <span class="math inline">\(\xi_{jt}\)</span> as a Function of Parameters of Interest</a></li>
<li class="chapter" data-level="4.4.50" data-path="demand.html"><a href="demand.html#solving-for-xi_jttheta"><i class="fa fa-check"></i><b>4.4.50</b> Solving for <span class="math inline">\(\xi_{jt}(\theta)\)</span></a></li>
<li class="chapter" data-level="4.4.51" data-path="demand.html"><a href="demand.html#solving-for-xi_jttheta-1"><i class="fa fa-check"></i><b>4.4.51</b> Solving for <span class="math inline">\(\xi_{jt}(\theta)\)</span></a></li>
<li class="chapter" data-level="4.4.52" data-path="demand.html"><a href="demand.html#solving-for-xi_jttheta-2"><i class="fa fa-check"></i><b>4.4.52</b> Solving for <span class="math inline">\(\xi_{jt}(\theta)\)</span></a></li>
<li class="chapter" data-level="4.4.53" data-path="demand.html"><a href="demand.html#solving-for-xi_jttheta-3"><i class="fa fa-check"></i><b>4.4.53</b> Solving for <span class="math inline">\(\xi_{jt}(\theta)\)</span></a></li>
<li class="chapter" data-level="4.4.54" data-path="demand.html"><a href="demand.html#solving-for-xi_jttheta-4"><i class="fa fa-check"></i><b>4.4.54</b> Solving for <span class="math inline">\(\xi_{jt}(\theta)\)</span></a></li>
<li class="chapter" data-level="4.4.55" data-path="demand.html"><a href="demand.html#estimating-parameters"><i class="fa fa-check"></i><b>4.4.55</b> Estimating Parameters</a></li>
<li class="chapter" data-level="4.4.56" data-path="demand.html"><a href="demand.html#estimating-parameters-1"><i class="fa fa-check"></i><b>4.4.56</b> Estimating Parameters</a></li>
<li class="chapter" data-level="4.4.57" data-path="demand.html"><a href="demand.html#instrumental-variables"><i class="fa fa-check"></i><b>4.4.57</b> Instrumental Variables</a></li>
<li class="chapter" data-level="4.4.58" data-path="demand.html"><a href="demand.html#optimal-blp-type-iv"><i class="fa fa-check"></i><b>4.4.58</b> Optimal BLP-type IV</a></li>
<li class="chapter" data-level="4.4.59" data-path="demand.html"><a href="demand.html#control-function-approach"><i class="fa fa-check"></i><b>4.4.59</b> Control Function Approach</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="assignment1.html"><a href="assignment1.html"><i class="fa fa-check"></i><b>5</b> Assignment 1: Basic Programming in R</a><ul>
<li class="chapter" data-level="5.1" data-path="assignment1.html"><a href="assignment1.html#simulate-data"><i class="fa fa-check"></i><b>5.1</b> Simulate data</a></li>
<li class="chapter" data-level="5.2" data-path="assignment1.html"><a href="assignment1.html#estimate-the-parameter"><i class="fa fa-check"></i><b>5.2</b> Estimate the parameter</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="assignment2.html"><a href="assignment2.html"><i class="fa fa-check"></i><b>6</b> Assignment 2: Production Function Estimation</a><ul>
<li class="chapter" data-level="6.1" data-path="assignment2.html"><a href="assignment2.html#simulate-data-1"><i class="fa fa-check"></i><b>6.1</b> Simulate data</a></li>
<li class="chapter" data-level="6.2" data-path="assignment2.html"><a href="assignment2.html#estimate-the-parameters"><i class="fa fa-check"></i><b>6.2</b> Estimate the parameters</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>7</b> References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">ECON 6120I Topics in Empirical Industrial Organization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="demand" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Demand Function Estimation</h1>
<div id="motivations-1" class="section level2">
<h2><span class="header-section-number">4.1</span> Motivations</h2>
</div>
<div id="analyzing-consumer-behaviors" class="section level2">
<h2><span class="header-section-number">4.2</span> Analyzing Consumer Behaviors</h2>
<ul>
<li><strong>Alternative set</strong>.</li>
<li><strong>Utility function</strong>.
<ul>
<li>Add system of <strong>choice sets</strong>.</li>
<li>Aad utility marimization.</li>
</ul></li>
<li><p><span class="math inline">\(\rightarrow\)</span> <strong>Demand function</strong>.</p></li>
<li>In case of producer behavior, there was a chance to directly observe the output of the most primitive function, the production function.</li>
<li>In case of consumer behavior, we never directly observe the output of the most primitive function, the utility function.</li>
<li>We can at most identify demand functions.</li>
<li><p>Can we recover the utility function from the observed demand function?</p></li>
</ul>
</div>
<div id="continuous-choice" class="section level2">
<h2><span class="header-section-number">4.3</span> Continuous Choice</h2>
<div id="utility-function-estimation" class="section level3">
<h3><span class="header-section-number">4.3.1</span> Utility Function Estimation</h3>
<ul>
<li>We cannot observe the output of utility function, <em>utility</em>, while we could observe the output of production function, <em>production</em>.</li>
<li>We can at most identify a demand function, the relationship between choice sets and demand or other related functions such as an expenditure function.</li>
<li>Under the assumption that the observed demand function is a solution to a utility maximization problem, we may be able to recover some information of the underlying utility function.</li>
</ul>
</div>
<div id="starting-from-a-utility-function-difficulty" class="section level3">
<h3><span class="header-section-number">4.3.2</span> Starting from a Utility Function: Difficulty</h3>
<ul>
<li>It is rather a special case that we can derive a closed form solution to a utility maximization problem.</li>
<li>It is often the case that we can only have first-order conditions:
<span class="math display">\[\begin{equation}
\frac{\partial U(q)}{\partial q_i} = \lambda p_i, i = 1, \cdots, J.
\end{equation}\]</span></li>
<li>We can use the first-order conditions as moment conditions for identification.</li>
<li>The derivation of a demand function from the identified utility function in general require a numerical simulation, which can be bothering.</li>
</ul>
</div>
<div id="duality-between-utility-and-expenditure-functions" class="section level3">
<h3><span class="header-section-number">4.3.3</span> Duality between Utility and Expenditure Functions</h3>
<ul>
<li>As well as the duality between production and cost functions, we have the same duality theorem for utility and expenditure functions.</li>
<li>There is a one-to-one mapping between a class of utility functions and a class of expenditure functions.</li>
<li>.</li>
<li>It is rare that we can recover the utility function associated with an expenditure function in a closed form. But it is not often required for analysis.</li>
<li></li>
</ul>
</div>
<div id="starting-from-an-expenditure-function" class="section level3">
<h3><span class="header-section-number">4.3.4</span> Starting from an Expenditure Function</h3>
<ul>
<li>Let <span class="math inline">\(p\)</span> be the price vector and <span class="math inline">\(u\)</span> be the target utility level.</li>
<li>Let <span class="math inline">\(u(q)\)</span> be a utility function.</li>
<li>An expenditure function associated with the utility function is defined by:
<span class="math display">\[\begin{equation}
e(u, p) = \min_{q} p&#39;q, u(q) \ge u.
\end{equation}\]</span></li>
<li>Let <span class="math inline">\(x\)</span> be the total expenditure such that:
<span class="math display">\[\begin{equation}
x = e(u, p).
\end{equation}\]</span></li>
<li>We can start from specifying this function.</li>
</ul>
</div>
<div id="deriving-other-functions" class="section level3">
<h3><span class="header-section-number">4.3.5</span> Deriving Other Functions</h3>
<ul>
<li><p>It is easy to derive other functions from an expenditure function.</p></li>
<li>: invert the expenditure function to get:
<span class="math display">\[\begin{equation}
u = e^{-1}(p, x) \equiv v(p, x).
\end{equation}\]</span></li>
<li>: apply Shepard’s lemma:
<span class="math display">\[\begin{equation}
q_i = \frac{\partial e(u, p)}{\partial p_i} \equiv h_i(u, p).
\end{equation}\]</span></li>
<li>: insert Hicksian demand function to the expenditure function:
<span class="math display">\[\begin{equation}
q_i = h_i(v(p, x), p) \equiv d_i(p, x).
\end{equation}\]</span></li>
</ul>
</div>
<div id="starting-from-an-indirect-utility-function" class="section level3">
<h3><span class="header-section-number">4.3.6</span> Starting from an Indirect Utility Function</h3>
<ul>
<li>It is almost equivalent to start from an indirect utility function.</li>
<li>An indirect utility function with the utility function is defined by:
<span class="math display">\[\begin{equation}
v(p, x) \equiv \max_{q} u(q), p&#39;q \le x.
\end{equation}\]</span></li>
<li>We can derive Marshallian demand function by Roy’s identity:
<span class="math display">\[\begin{equation}
q_i = \frac{- \partial v(p, x)/\partial p_i}{\partial v(p, x)/\partial x} \equiv d_i(p, x).
\end{equation}\]</span></li>
</ul>
</div>
<div id="expenditure-share-equation" class="section level3">
<h3><span class="header-section-number">4.3.7</span> Expenditure Share Equation</h3>
<ul>
<li>Let’s start from an expenditure function <span class="math inline">\(e(p, x)\)</span>.</li>
<li>By Shepard’s lemma, we have:
<span class="math display">\[\begin{equation}
\frac{\partial \ln e(u, p)}{\partial \ln p_i} = \frac{\partial e(u, p)}{\partial p_i} \frac{p_i}{e(u, p)} = \frac{p_i q_i}{x} \equiv w_i.
\end{equation}\]</span></li>
<li>We call this an expenditure share equation.</li>
</ul>
</div>
<div id="almost-ideal-demand-system-aids" class="section level3">
<h3><span class="header-section-number">4.3.8</span> Almost Ideal Demand System (AIDS)</h3>
<ul>
<li>Deaton and Muellbauer (1980).</li>
<li><p>Consider an expenditure function that satisfies the following conditions:</p></li>
<li>It allows aggregation (this is no longer that important).</li>
<li>It gives an arbitrary first-order approximation to any demand system.</li>
<li>It can satisfy the restrictions of utility maximization.</li>
<li><p>It can be used to test the restrictions of utility maximization.</p></li>
</ul>
</div>
<div id="piglog-class" class="section level3">
<h3><span class="header-section-number">4.3.9</span> PIGLOG Class</h3>
<ul>
<li>PIGLOG (price-independent generalized logarithmic) class (Muellbauar 1976).
<span class="math display">\[\begin{equation}
\ln e(u, p) = (1 - u) \ln a(p) + u\ln b(p),
\end{equation}\]</span>
where <span class="math inline">\(a(p)\)</span> and <span class="math inline">\(b(p)\)</span> are arbitrary linear homogeneous concave functions.</li>
<li>Consider households that differ in total income.</li>
<li>PIGLOC ensures that the aggregate demand can be written in the same form where the total income is replaced with the sum of household total income.</li>
</ul>
</div>
<div id="specify-the-detail" class="section level3">
<h3><span class="header-section-number">4.3.10</span> Specify the Detail</h3>
<ul>
<li>It gives an arbitrary first-order approximation to any demand system.</li>
<li><span class="math inline">\(\to\)</span> The derivatives should be given free parameters.</li>
<li>In AIDS, we take:
<span class="math display">\[\begin{equation}
\begin{split}
\ln a(p) &amp;\equiv a_0 + \sum_{k} \alpha_k \ln p_k + \frac{1}{2}\sum_{k} \sum_{j} \gamma_{kj}^* \ln p_k \ln p_j\\
\ln b(p) &amp;\equiv \ln a(p) + \beta_0  \prod_{k} p_k^{\beta_k}.
\end{split}
\end{equation}\]</span></li>
</ul>
</div>
<div id="derive-the-share-equation-i" class="section level3">
<h3><span class="header-section-number">4.3.11</span> Derive the Share Equation I</h3>
<ul>
<li>By Roy’s identify, we can derive the associated share equation:
<span class="math display">\[\begin{equation}
w_i \equiv \frac{\partial \ln e(u, p)}{\partial \ln p_i} = \alpha_i + \sum_{j} \gamma_{ij} + \beta_i u \beta_0 \prod_{k} p_k^{\beta_k},
\end{equation}\]</span>
where
<span class="math display">\[\begin{equation}
\gamma_{ij} = \frac{1}{2}(\gamma_{ij}^* + \gamma_{ji}^*).
\end{equation}\]</span></li>
</ul>
</div>
<div id="derive-the-share-equation-ii" class="section level3">
<h3><span class="header-section-number">4.3.12</span> Derive the Share Equation II</h3>
<ul>
<li>Insert indirect utility function <span class="math inline">\(u = v(p, x)\)</span> to this to get:
<span class="math display">\[\begin{equation}
w_i = \alpha_i + \sum_{j} \gamma_{ij} \ln p_j + \beta_i \ln \frac{x}{P},
\end{equation}\]</span>
where
<span class="math display">\[\begin{equation}
\ln P \equiv  \alpha_0 + \sum_{k} \alpha_k \ln p_k + \frac{1}{2} \sum_{j} \sum_{k} \gamma_{kj} \ln p_k \ln p_j.
\end{equation}\]</span></li>
<li><span class="math inline">\(P\)</span> is a price index associated with the given preference.</li>
<li>In Stone (1953), it becomes <span class="math inline">\(\ln P = \sum_{j} w_j \ln p_j\)</span>. It was used as an approximation.</li>
</ul>
</div>
<div id="specify-the-detail-ii" class="section level3">
<h3><span class="header-section-number">4.3.13</span> Specify the Detail II</h3>
<ul>
<li>It can satisfy the restrictions of utility maximization.</li>
<li>It can be used to test the restrictions of utility maximization.</li>
<li><span class="math inline">\(\sum_{j} w_j = 1\)</span>:
<span class="math display">\[\begin{equation}
\sum_{j} \alpha_j = 1, \sum_{j} \gamma_{jk} = 0, \sum_{j} \beta_j = 0.
\end{equation}\]</span></li>
<li><span class="math inline">\(e(u, p)\)</span> is linear homogeneous in <span class="math inline">\(p\)</span>:
<span class="math display">\[\begin{equation}
\sum_{j} \gamma_{ij} = 0.
\end{equation}\]</span></li>
<li>Symmetry:
<span class="math display">\[\begin{equation}
\gamma_{ij} = \gamma_{ji}.
\end{equation}\]</span></li>
</ul>
</div>
<div id="estimation" class="section level3">
<h3><span class="header-section-number">4.3.14</span> Estimation</h3>
<ul>
<li>, the error term is correlated with the price vector.</li>
<li><p>Therefore, we need at least as many instrumental variables as the dimension of the price vector.</p></li>
<li><p>In 80s, people was not careful enough about this problem.</p></li>
<li>With valid instrumental variables, we can estimate the model with GMM.</li>
<li><p>The number of elasticity parameters <span class="math inline">\(\gamma_{ij}\)</span> grow at the order of <span class="math inline">\(J^2\)</span> with the number of consumption goods <span class="math inline">\(J\)</span>.</p></li>
</ul>
</div>
<div id="from-product-space-approach-to-characteristics-space-approach" class="section level3">
<h3><span class="header-section-number">4.3.15</span> From Product Space Approach to Characteristics Space Approach</h3>
<ul>
<li>The framework up to here is called  because the utility has been defined over a product space.</li>
<li><p>When there are <span class="math inline">\(J\)</span> goods, there are <span class="math inline">\(J^2\)</span> parameters for prices.</p></li>
<li>One way to resolve this issue is to introduce a priori knowledge about the preference.</li>
<li><p>For example, introduce a priori segmentation with separability.</p></li>
<li><p>It is hard to evaluate the effect of introducing new product.</p></li>
<li><p>Again, we have to a priori decide which segment/product is similar to the new product.</p></li>
<li><p>This leads us to the .</p></li>
</ul>
</div>
<div id="from-continuous-choice-approach-to-discrete-choice-approach" class="section level3">
<h3><span class="header-section-number">4.3.16</span> From Continuous Choice Approach to Discrete Choice Approach</h3>
<ul>
<li>In the standard consumption problem, a consumer is supposed to choose a consumption bundle given a price vector.</li>
<li>A consumption bundle in a period, in reality, is generated from a complicated shopping behaviors during the period.</li>
<li><p>The most primitive decision problem is a  problem:</p></li>
<li><p>Coca Cola and Pepsi Cola are on the shelf. The consumer buys either of them or buys nothing.</p></li>
<li>The consumption bundle of a period is obtained by integrating these primitive choices across shopping occasions.</li>
<li><p>This leads us to the .</p></li>
</ul>
</div>
</div>
<div id="discrete-choice-approach" class="section level2">
<h2><span class="header-section-number">4.4</span> Discrete Choice Approach</h2>
<div id="discrete-choice-approach-1" class="section level3">
<h3><span class="header-section-number">4.4.1</span> Discrete Choice Approach</h3>
<ul>
<li>Let <span class="math inline">\(u(x, z_i)\)</span> be the utility of a consumer over <span class="math inline">\(J + 1\)</span> dimensional consumption bundle <span class="math inline">\(x\)</span> characterized by consumer characteristics <span class="math inline">\(z_i\)</span>.</li>
<li>The consumer solves:
<span class="math display">\[\begin{equation}
V(p, y_i; z_i) = \max_{x \in X}u(x, z_i), \text{   s.t.   } p&#39;x \le y_i.
\end{equation}\]</span></li>
<li>Alternative <span class="math inline">\(0\)</span> is an .</li>
<li>Normalize <span class="math inline">\(p_0 = 1\)</span>.</li>
<li>We call alternatives <span class="math inline">\(j = 1, \cdots, J\)</span> .</li>
<li>The choice space is restricted on:
<span class="math display">\[\begin{equation}
\begin{split}
X = \{x:&amp; x_0 \in [0, M], x_j \in \{0, 1\}, j = 1, \cdots, J,\\
&amp; x_j x_k = 0, \forall j \neq k, j, k &gt; 0, M &lt; \infty\}.
\end{split}
\end{equation}\]</span></li>
</ul>
</div>
<div id="discrete-choice-approach-2" class="section level3">
<h3><span class="header-section-number">4.4.2</span> Discrete Choice Approach</h3>
<ul>
<li>The budget constraint reduces to:
<span class="math display">\[\begin{equation}
\begin{cases}
x_0 + p_j x_j = y &amp;\text{   if   } x_j = 1, j &gt; 0\\
x_0 = y &amp;\text{   otherwise}.
\end{cases}
\end{equation}\]</span></li>
<li>Hence,
<span class="math display">\[\begin{equation}
x_0 = y - \sum_{j = 1}^J p_j x_j.
\end{equation}\]</span></li>
</ul>
</div>
<div id="discrete-choice-approach-3" class="section level3">
<h3><span class="header-section-number">4.4.3</span> Discrete Choice Approach</h3>
<ul>
<li>The utility maximization problem can be written as:
<span class="math display">\[\begin{equation}
V(p, y_i; z_i) = \max_{j = 0, 1, \cdots, j}  v_j(p, y_i; z_i),
\end{equation}\]</span>
where
<span class="math display">\[\begin{equation}
\begin{split}
&amp;v_j(p, y_i; z_i)\\
&amp; =
\begin{cases}
u(y_i - p_j, 0, \cdots, \underbrace{1}_{x_j}, \cdots, 0; z_i) &amp;\text{   if  }j &gt; 0,\\
u(y_i, 0, \cdots, 0; z_i) &amp;\text{   if   }j = 0,
\end{cases}
\end{split}
\end{equation}\]</span>
is called the .</li>
</ul>
</div>
<div id="characteristics-space-approach" class="section level3">
<h3><span class="header-section-number">4.4.4</span> Characteristics Space Approach</h3>
<ul>
<li><p>Preference is defined over the characteristics of alternatives, <span class="math inline">\(w_j\)</span>:</p></li>
<li>Car: vehicle, engine power, model-year, car maker, etc.</li>
<li><p>PC: CPU power, number of cores, memory, HDD volume, etc.</p></li>
<li>The choice-specific indirect utility is a function of the characteristics of the alternative:
<span class="math display">\[\begin{equation}
\begin{split}
v_j(p, y_i; z_i) &amp;=u(y_i - p_j, 0, \cdots, \underbrace{1}_{x_j}, \cdots, 0; z_i)\\
&amp;= u^*(y_i - p_j, w_j; z_i)\\
&amp;\equiv v(p, w_j, y_i; z_i).
\end{split}
\end{equation}\]</span></li>
</ul>
</div>
<div id="characteristics-space-approach-1" class="section level3">
<h3><span class="header-section-number">4.4.5</span> Characteristics Space Approach</h3>
<ul>
<li>Characteristics space approach resolves the problem of product space approach:</li>
<li>The number of parameters depend on the possible dimensions of characteristics that consumers will take care, which do not grow as rapidly as the product space approach when the number of products increases.</li>
<li>The preference over a new product can be evaluated as long as the characteristics of the new products fall in the domain with a known preference.</li>
</ul>
</div>
<div id="weak-separability-and-income-effect" class="section level3">
<h3><span class="header-section-number">4.4.6</span> Weak Separability and Income Effect</h3>
<ul>
<li>We usually focus on a particular product category such as cars, PCs, cereals, detergents, and so on.</li>
<li>Assume that the preference is separable between the category in question and other categories.</li>
<li>Then, call the category in question inside goods.</li>
<li>The outside good captures the income effect of the choice in this category.</li>
</ul>
</div>
<div id="weak-separability-and-income-effect-1" class="section level3">
<h3><span class="header-section-number">4.4.7</span> Weak Separability and Income Effect</h3>
<ul>
<li>Thus, how the preference for the outside good is modeled determines how the individual income affects the choice.
<span class="math display">\[\begin{equation}
\begin{split}
&amp;u^*(y_i - p_j, w_j; z_i) = u^{**}(w_j; z_i) + \alpha(y_i - p_j).\\
&amp;u^*(y_i - p_j, w_j; z_i) = u^{**}(w_j; z_i) + \alpha \ln (y_i - p_j).
\end{split}
\end{equation}\]</span></li>
<li>In the first example, the income level does not affect the choice because the term <span class="math inline">\(\alpha y_i\)</span> is common and constant across choices (there is no income effect).</li>
<li>We often do not observe income of a consumer, <span class="math inline">\(y_i\)</span>.</li>
</ul>
</div>
<div id="utility-function-normalization" class="section level3">
<h3><span class="header-section-number">4.4.8</span> Utility Function Normalization</h3>
<ul>
<li>The  of utility function is often normalized by setting:
<span class="math display">\[\begin{equation}
u(y^*, 0, \cdots, 0; z^*) = 0,
\end{equation}\]</span>
for certain choice of <span class="math inline">\((y^*, z^*)\)</span>.</li>
<li>We will also introduce a normalization for the  of utility function later.</li>
</ul>
</div>
<div id="aggregation-of-the-individual-demand" class="section level3">
<h3><span class="header-section-number">4.4.9</span> Aggregation of the Individual Demand</h3>
<ul>
<li>Let <span class="math inline">\(x(p, w, y_i; z_i) = \{x_j(p, w_j, y_i; z_i)\}_{j = 0, \cdots, J}\)</span> be the demand function of consumer <span class="math inline">\(i\)</span>, that is:
<span class="math display">\[\begin{equation}
x_j(p, w_j, y_i; z_i) = 1 \Leftrightarrow j = \text{argmax}_{j = 0, 1, \cdots, j}  v(p, w_j, y_i; z_i).
\end{equation}\]</span></li>
<li>Let <span class="math inline">\(f(y, z)\)</span> be the joint distribution of the income and parameters.</li>
<li>The aggregate demand for good <span class="math inline">\(j\)</span> is:
<span class="math display">\[\begin{equation}
D_j(p, w_j; f) \equiv N \int  x_j(p, w_j, y; z) f(y, z) dy dz,
\end{equation}\]</span>
where <span class="math inline">\(N\)</span> is the population.</li>
</ul>
</div>
<div id="horizontal-product-differentiation" class="section level3">
<h3><span class="header-section-number">4.4.10</span> Horizontal Product Differentiation</h3>
<ul>
<li>We can proceed the analysis by specifying <span class="math inline">\(v(p, w_j, y_i; z_i)\)</span>.</li>
<li>There are two convenience stores <span class="math inline">\(j = 1, 2\)</span> on a street <span class="math inline">\([0, 1]\)</span>.</li>
<li>Let <span class="math inline">\(z_i = L_i\)</span>, the location of consumer <span class="math inline">\(i\)</span> and <span class="math inline">\(w_j = L_j\)</span>, the location of the choice on a street <span class="math inline">\([0, 1]\)</span> with <span class="math inline">\(L_1 &lt; L_2\)</span>.</li>
<li>A consumer has a preference such that:
<span class="math display">\[\begin{equation}
v_{ij} \equiv v(p, w_j, y_i; z_i) \equiv s - t |L_i - L_j| - p_j,
\end{equation}\]</span>
where <span class="math inline">\(d(\cdot, \cdot)\)</span> is a Euclid distance.</li>
<li>This is an example of , i.e., consumers do not agree on the ranking of the choices.</li>
</ul>
</div>
<div id="horizontal-product-differentiation-1" class="section level3">
<h3><span class="header-section-number">4.4.11</span> Horizontal Product Differentiation</h3>
<ul>
<li>Suppose that the prices are low enough that entire consumers on the street are willing to buy either from the stores.</li>
<li>Consumer <span class="math inline">\(i\)</span> buys from store <span class="math inline">\(1\)</span> if and only if:
<span class="math display">\[\begin{equation}
\begin{split}
&amp;v(p, w_1, y_i; z_i) \ge v(p, w_2, y_i; z_i)\\
&amp;\Leftrightarrow s - t |L_i - L_1| - p_1 \ge s - t |L_i - L_2|- p_2\\
&amp;\Leftrightarrow L_i \le \frac{p_2 - p_1}{2 t} + \frac{L_1 + L_2}{2} \equiv \overline{L}_1(p_1, p_2).
\end{split}
\end{equation}\]</span></li>
<li>Let <span class="math inline">\(f(L_i)\)</span> be <span class="math inline">\(U[0, 1]\)</span>. Then, the aggregate demand for store 1 is:
<span class="math display">\[\begin{equation}
\begin{split}
D_1(p, L_1, L_2) = N \int_{0}^{\overline{L}_1(p_1, p_2)} d L_i = N\overline{L}_1(p_1, p_2).
\end{split}
\end{equation}\]</span></li>
</ul>
</div>
<div id="vertical-product-differentiation" class="section level3">
<h3><span class="header-section-number">4.4.12</span> Vertical Product Differentiation</h3>
<ul>
<li>There are <span class="math inline">\(J\)</span> goods and consumer <span class="math inline">\(i\)</span> has a utility such as:
<span class="math display">\[\begin{equation}
v_{ij} \equiv v(p, w_j, y_i; z_i) = z_i w_j - p_j,
\end{equation}\]</span>
where <span class="math inline">\(w_j\)</span> is a quality of product <span class="math inline">\(j\)</span> and <span class="math inline">\(z_i\)</span> is the consumer’s willingness to pay for the quality with <span class="math inline">\(w_j &lt; w_{j + 1}\)</span>.</li>
<li>Consumers’ problem is:
<span class="math display">\[\begin{equation}
\max\{0, z_i w_1 - p_1, \cdots, z_i w_J - p_J \}.
\end{equation}\]</span></li>
<li>This is an example of , i.e., consumers agree on the ranking of the choices.</li>
</ul>
</div>
<div id="vertical-product-differentiation-1" class="section level3">
<h3><span class="header-section-number">4.4.13</span> Vertical Product Differentiation</h3>
<ul>
<li>Consumer <span class="math inline">\(i\)</span> prefers good <span class="math inline">\(j + 1\)</span> to good <span class="math inline">\(j\)</span> if and only if:
<span class="math display">\[\begin{equation}
\begin{split}
&amp;v(p, w_{j + 1}, y_i; z_i) \ge v(p, w_j, y_i; z_i)\\
&amp;\Leftrightarrow z_i w_{j + 1} - p_{j + 1} \ge z_i w_j - p_j\\
&amp;\Leftrightarrow z_i \ge \frac{p_{j + 1} - p_j}{w_{j + 1} - w_j} \equiv \Delta_j.
\end{split}
\end{equation}\]</span></li>
<li>So consumer <span class="math inline">\(i\)</span> purchases good <span class="math inline">\(j\)</span> if and only if <span class="math inline">\(z_i \in [\Delta_{j - 1}, \Delta_j)\)</span> and buys nothing if:
<span class="math display">\[\begin{equation}
z_i \le \Delta_0 \equiv \min\{p_1/w_1, \cdots p_J/w_J\}.
\end{equation}\]</span></li>
<li>Letting <span class="math inline">\(F(z)\)</span> be the distribution function of <span class="math inline">\(z\)</span>, the aggregate demand for good <span class="math inline">\(j\)</span> is:
<span class="math display">\[\begin{equation}
D_j(p, w, z) = N[F(\Delta_{j}) - F(\Delta_{j - 1})].
\end{equation}\]</span></li>
</ul>
</div>
<div id="econometric-models" class="section level3">
<h3><span class="header-section-number">4.4.14</span> Econometric Models</h3>
<ul>
<li>So far there was no econometrics.</li>
<li>Next we define what are observable and unobservable, and what are known and unknown.</li>
<li>Then consider how to identify and estimate the model.</li>
</ul>
</div>
<div id="multinomial-logit-model-preference-shock" class="section level3">
<h3><span class="header-section-number">4.4.15</span> Multinomial Logit Model: Preference Shock</h3>
<ul>
<li>Suppose that there is some unobservable component in consumer characteristics.</li>
<li>In reality, consumers choice change somewhat randomly.</li>
<li>Let’s capture such a  by consider the following model:
<span class="math display">\[\begin{equation}
v(p, w_j, y_i; z_i) \equiv v(p, w_j, y_i) + \epsilon_{ij},
\end{equation}\]</span>
where I assumed that there is no other <span class="math inline">\(z_i\)</span> for exposition simplicity, with some random vector:
<span class="math display">\[\begin{equation}
\epsilon_i \equiv (\epsilon_{i0}, \cdots, \epsilon_{iJ})&#39; \sim G.
\end{equation}\]</span></li>
<li>At this point, <span class="math inline">\(G\)</span> can be any distribution and the shocks can be dependent across <span class="math inline">\(j\)</span> within <span class="math inline">\(i\)</span>.</li>
</ul>
</div>
<div id="multinomial-logit-model-distributional-assumption" class="section level3">
<h3><span class="header-section-number">4.4.16</span> Multinomial Logit Model: Distributional Assumption</h3>
<ul>
<li><p>Now assume the followings:</p></li>
<li><span class="math inline">\(\epsilon_{ij}\)</span> are independent across <span class="math inline">\(j\)</span>: <span class="math inline">\(G(\epsilon_i) = \prod_{j = 0, \cdots, J} G_j(\epsilon_{ij})\)</span>.</li>
<li><span class="math inline">\(\epsilon_{ij}\)</span> are identical across <span class="math inline">\(j\)</span>: <span class="math inline">\(G_j(\epsilon_{ij}) = \overline{G}(\epsilon_{ij})\)</span>.</li>
<li><p><span class="math inline">\(\overline{G}\)</span> is a type-I extreme value.</p></li>
<li><p><span class="math inline">\(\rightarrow\)</span> The density <span class="math inline">\(g(\epsilon_{ij}) = \exp[-\exp(-\epsilon_{ij}) - \epsilon_{ij}]\)</span>.</p></li>
<li>This is called the (homoskedastic) .</li>
<li><p>Setting the variance of <span class="math inline">\(\epsilon_{ij}\)</span> at 1 for some <span class="math inline">\(j\)</span> is a . There is no obvious ``unit’’ in preference.</p></li>
</ul>
</div>
<div id="multinomial-logit-model-choice-probability" class="section level3">
<h3><span class="header-section-number">4.4.17</span> Multinomial Logit Model: Choice Probability</h3>
<ul>
<li>The  of consumer <span class="math inline">\(i\)</span> of good <span class="math inline">\(j\)</span> is:
<span class="math display">\[\begin{equation}
\begin{split}
s_{j}(p, w, y_i) &amp; \equiv \mathbb{P}\{j = \text{argmax}_{k = 0, 1, \cdots, J} v(p, w_k, y_i) + \epsilon_{ik}  \}\\
&amp;=\mathbb{P}\{v(p, w_j, y_i) -  v(p, w_k, y_i) \ge \epsilon_{ik} - \epsilon_{ij}, \forall k \neq j\}\\
&amp; = \text{...after some algebra...}\\
&amp;= \frac{\exp[v(p, w_j, y_i) ]}{\sum_{k = 0}^J \exp[v(p, w_k, y_i)] }.
\end{split}
\end{equation}\]</span></li>
<li>For example, if:
<span class="math display">\[\begin{equation}
v(p, w_k, y_i) = \beta&#39;w_k - \alpha \ln(y_i - p_k),
\end{equation}\]</span>
then, we have:
<span class="math display">\[\begin{equation}
s_{j}(p, w, y_i) = \frac{\exp[\beta&#39;w_j - \alpha \ln(y_i - p_j) ]}{\sum_{k = 0}^J \exp[\beta&#39;w_k - \alpha \ln (y_i - p_k) ]}.
\end{equation}\]</span></li>
</ul>
</div>
<div id="multinomial-logit-model-inclusive-value" class="section level3">
<h3><span class="header-section-number">4.4.18</span> Multinomial Logit Model: Inclusive Value</h3>
<ul>
<li>The expected utility for consumer <span class="math inline">\(i\)</span> before the preference shocks are drawn under multinomial logit model is given by:
<span class="math display">\[\begin{equation}
\begin{split}
&amp;\mathbb{E}\{\max_{j = 0, \cdots, J} v(p, w_j, y_i) + \epsilon_{ij}\} \\
&amp;= \text{   ...after some algebra...}\\
&amp;= \ln \Bigg\{\sum_{j = 0}^J \exp[v(p, w_j, y_i)] \Bigg\} + constant.
\end{split} 
\end{equation}\]</span></li>
<li>This is sometimes called the  of the choice set.</li>
</ul>
</div>
<div id="maximum-likelihood-estimation-of-multinomial-logit-model" class="section level3">
<h3><span class="header-section-number">4.4.19</span> Maximum Likelihood Estimation of Multinomial Logit Model</h3>
<ul>
<li>Suppose we observe a sequence of income <span class="math inline">\(y_i\)</span>, choice <span class="math inline">\(x_{i}\)</span>, product characteristics <span class="math inline">\(w_j\)</span> and price <span class="math inline">\(p_j\)</span>.</li>
<li><span class="math inline">\(x_i = (x_{i0}, \cdots, x_{iJ})&#39;\)</span> and <span class="math inline">\(x_{ij} = 1\)</span> if <span class="math inline">\(j\)</span> is chosen and <span class="math inline">\(0\)</span> otherwise.</li>
<li>The parameter of interest is the mean indirect utility function <span class="math inline">\(v\)</span>.</li>
<li>Then the log likelihood of <span class="math inline">\(\{x_i\}_{i = 1}^N\)</span> conditional on <span class="math inline">\(\{y_i\}_{i = 1}^N\)</span> and <span class="math inline">\(\{w_j,p_j\}_{j = 1}^J\)</span> is:
<span class="math display">\[\begin{equation}
\begin{split}
l(v; x, y, w) &amp;= \sum_{i = 1}^N \ln \mathbb{P}\{x_i = x(p, w_j, y_i)|p, w_j, y_i \}\\
&amp; = \sum_{i = 1}^N \log \Bigg\{ \prod_{j = 0}^{J} s_{j}(p, w, y_i)^{x_{ij}} \Bigg\}.
\end{split}
\end{equation}\]</span></li>
</ul>
</div>
<div id="nonlinear-least-square-estimation-of-multinomial-logit-model" class="section level3">
<h3><span class="header-section-number">4.4.20</span> Nonlinear Least Square Estimation of Multinomial Logit Model</h3>
<ul>
<li>The multinomial logit model can be estimated by nonlinear least square method as well.</li>
<li>This is particularly important when we only have an aggregate data instead of choice data.</li>
<li>Note that:
<span class="math display">\[\begin{equation}
\begin{split}
\ln s_{j}(p, w, y_i)  &amp;= \ln \Bigg\{ \frac{\exp[v(p, w_j, y_i) ]}{\sum_{k = 0}^J \exp[v(p, w_k, y_i)] }  \Bigg\}\\
&amp;= v(p, w_j, y_i) - \ln\Bigg\{ \sum_{k = 0}^J \exp[v(p, w_k, y_i)]  \Bigg\}.
\end{split}
\end{equation}\]</span></li>
</ul>
</div>
<div id="nonlinear-least-square-estimation-of-multinomial-logit-model-1" class="section level3">
<h3><span class="header-section-number">4.4.21</span> Nonlinear Least Square Estimation of Multinomial Logit Model</h3>
<ul>
<li>Moreover, because of the location normalization of the utility function,
<span class="math display">\[\begin{equation}
s_{0}(p, w, y_i) = \frac{1}{\sum_{k = 0}^J \exp[v(p, w_k, y_i)] }.
\end{equation}\]</span></li>
<li>Hence,
<span class="math display">\[\begin{equation}
\ln s_{j}(p, w, y_i) - \ln s_{0}(p, w, y_i) = v(p, w_j, y_i).
\end{equation}\]</span></li>
</ul>
</div>
<div id="nonlinear-least-square-estimation-of-multinomial-logit-model-2" class="section level3">
<h3><span class="header-section-number">4.4.22</span> Nonlinear Least Square Estimation of Multinomial Logit Model</h3>
<ul>
<li>Suppose that conditional on <span class="math inline">\(y_i\)</span>, the observed choice probabilities are <span class="math inline">\(s_{j}(y_i)\)</span>.</li>
<li>In practice, it will be estimated on a discretized income <span class="math inline">\(\{y_1, \cdots, y_M\}\)</span>.</li>
<li>Then, we can estimate the parameter by NLLS such that:
<span class="math display">\[\begin{equation}
\min \sum_{m = 1}^M \sum_{j = 1}^J \{\ln[s_{j}(y_m)/s_{0}(y_m)] - v(p, w_j, y_m)\}^2.
\end{equation}\]</span></li>
<li>If <span class="math inline">\(v\)</span> is linear in parameter, it is the OLS.</li>
</ul>
</div>
<div id="nonlinear-least-square-estimation-of-multinomial-logit-model-3" class="section level3">
<h3><span class="header-section-number">4.4.23</span> Nonlinear Least Square Estimation of Multinomial Logit Model</h3>
<ul>
<li>Suppose that there are <span class="math inline">\(t = 1, \cdots, T\)</span> markets.</li>
<li>The average income level is <span class="math inline">\(y_t\)</span> in market <span class="math inline">\(t\)</span>.</li>
<li>The average price level is <span class="math inline">\(p_i\)</span> in market <span class="math inline">\(t\)</span>.</li>
<li>It is often assumed that the market share of good <span class="math inline">\(j\)</span> in market <span class="math inline">\(t\)</span> is given by:
<span class="math display">\[\begin{equation}
s_{j}(y_t) = \frac{\exp[v(p_t, w_j, y_t) ]}{\sum_{k = 0}^J \exp[v(p_t, w_k, y_t)] },
\end{equation}\]</span>
and the parameter is estimated by:
<span class="math display">\[\begin{equation}
\min \sum_{t = 1}^T \sum_{j = 1}^J \{\ln[s_{jt}/s_{0t}] - v(p_t, w_j, y_t)\}^2,
\end{equation}\]</span>
where <span class="math inline">\(s_{jt}\)</span> is the observed choice share of product <span class="math inline">\(j\)</span> in market <span class="math inline">\(t\)</span>.</li>
</ul>
</div>
<div id="iia-problem" class="section level3">
<h3><span class="header-section-number">4.4.24</span> IIA Problem</h3>
<ul>
<li>Multinomial logit problem is intuitive and easy to implement.</li>
<li>However, there are several problems in the model.</li>
<li>The most important problem is the  problem.</li>
<li>Notice that:
<span class="math display">\[\begin{equation}
\frac{s_{j}(p, w, y_i)}{s_{k}(p, w, y_i)} = \frac{\exp[v(p, w_j, y_i)]}{\exp[v(p, w_k, y_i)]}.
\end{equation}\]</span></li>
<li>.</li>
</ul>
</div>
<div id="blue-bus-and-red-bus-problem" class="section level3">
<h3><span class="header-section-number">4.4.25</span> Blue Bus and Red Bus Problem</h3>
<ul>
<li>Why is this problematic?</li>
<li>Suppose that you can go to a town by bus or by train.</li>
<li>Half of commuters use a bus and the other half use a train.</li>
<li>The existing bus was blue. Now, the county introduced a red bus, which is identical to the existing blue bus.</li>
<li>No one take care of the color of bus. So the mean indirect utility of blue bus and red bus are equal.</li>
<li>What is the new share across blue bus, red bus, and train?</li>
<li>IIA <span class="math inline">\(\to\)</span> share of blue bus = share of train.</li>
<li>Buses are identical <span class="math inline">\(\to\)</span> share of blue bus = share of red bus.</li>
<li>Therefore, shares have to be 1/3, respectively.</li>
<li>But shouldn’t it be that train keeps half share and bus have half share in total?</li>
</ul>
</div>
<div id="restrictive-price-elasticity" class="section level3">
<h3><span class="header-section-number">4.4.26</span> Restrictive Price Elasticity</h3>
<ul>
<li>IIA property restrict price elasticities in an unfavorable manner.</li>
<li>This is a serious problem because the main purpose for us to estimate demand functions is to identify the price elasticity.</li>
<li>Let <span class="math inline">\(v(p, w_j, y_i) = \beta&#39;w_j - \alpha p_j\)</span>. Then, we have:
<span class="math display">\[\begin{equation}
e_{jk} =
\begin{cases}
-\alpha p_{j} (1 - s_{j}(p, w, y_i)) &amp;\text{   if   } k = j\\
\alpha p_{k} s_{k}(p, w, y_i) &amp;\text{   if   } k \neq j.
\end{cases}
\end{equation}\]</span></li>
<li>The price elasticity is completely determined by the existing choice probabilities of the relevant alternatives.</li>
</ul>
</div>
<div id="restrictive-price-elasticity-1" class="section level3">
<h3><span class="header-section-number">4.4.27</span> Restrictive Price Elasticity</h3>
<ul>
<li>Suppose that there are coca cola, pepsi cola, and a coffee.</li>
<li>The shares were 1/2, 1/6, 1/3, respectively.</li>
<li>Suppose that the price of coca cola increased.</li>
<li>We expect that they instead purchase pepsi cola because pepsi cola is more similar to coca cola than coffee.</li>
<li>However, according to the previous result, twice more consumers substitute to coffee rather than to pepsi cola.</li>
</ul>
</div>
<div id="monotonic-inclusive-value" class="section level3">
<h3><span class="header-section-number">4.4.28</span> Monotonic Inclusive Value</h3>
<ul>
<li>Suppose that there is a good whose mean indirect utility is <span class="math inline">\(v\)</span>.</li>
<li>The inclusive value for this choice set is <span class="math inline">\(\ln[1 + \exp(v)]\)</span>.</li>
<li>Suppose that we put <span class="math inline">\(J\)</span> same goods on the shelf and consumer can choose any of them.</li>
<li>The inclusive value is <span class="math inline">\(\ln[1 + J \exp(v)]\)</span>.</li>
<li>We just added the same goods. But the expected utility of consumer increases monotonically in the number of alternatives.</li>
</ul>
</div>
<div id="the-source-of-the-problem" class="section level3">
<h3><span class="header-section-number">4.4.29</span> The Source of the Problem</h3>
<ul>
<li>All of these problems are the different side of the same coin.</li>
<li>.</li>
<li>When the preference shock to coca cola is high, the preference shock to pepsi cola should be high, while the preference shock to coffee should be relatively independent.</li>
<li>Because the expected value of the maximum of the preference shocks increases according to the number of alternatives, the inclusive value becomes increasing in the number of alternatives.</li>
<li>However, the preference shocks should be the same for the same good. Then, the the expected value of the maximum of the preference shock does not increase even if we add the same products on the shelf.</li>
</ul>
</div>
<div id="to-resolve-the-problem" class="section level3">
<h3><span class="header-section-number">4.4.30</span> To Resolve the Problem</h3>
<ul>
<li>Therefore, the preference shock should be such that: preference shocks between two alternative should be more correlated when they are closer in the characteristics space.</li>
<li>So we have to allow the covariance matrix of the preference shock to be free parameters.</li>
<li>If we allow flexible covariance matrix, the curse of dimensionality in the number of alternatives returns: The dimensionality of the covariance matrix is <span class="math inline">\(J^2\)</span>.</li>
<li>Another way is to remove <span class="math inline">\(\epsilon_{ij}\)</span>: it is called a .</li>
</ul>
</div>
<div id="mixed-logit-model-random-coefficient-model" class="section level3">
<h3><span class="header-section-number">4.4.31</span> Mixed Logit Model (Random-coefficient Model)</h3>
<ul>
<li>Let <span class="math inline">\(v(p, w_j, y_i) = \beta&#39;w_j - \alpha p_j\)</span>.</li>
<li>But now, suppose that <span class="math inline">\(\beta\)</span> and <span class="math inline">\(\alpha\)</span> can be different across consumers. So, <span class="math inline">\(v(p, w_j, y_i) = \beta_i&#39;w_j - \alpha_i p_j\)</span>.</li>
<li>The density of consumer characteristics is:
<span class="math display">\[\begin{equation}
f(\beta_i, \alpha_i, y_i, \epsilon_i) = f(\beta_i, \alpha_i|y_i)f(y_i)f(\epsilon_i).
\end{equation}\]</span>
where <span class="math inline">\(f(\epsilon_i)\)</span> is i.i.d. Type-I extreme value.</li>
<li><span class="math inline">\(f(\beta_i, \alpha_i|y_i)\)</span> is often independent normal distribution.</li>
<li>Then, the choice probability of good <span class="math inline">\(j\)</span> by consumer <span class="math inline">\(i\)</span> is:
<span class="math display">\[\begin{equation}
s_{j}(p, w, y_i) = \int_{\beta_i, \alpha_i} \frac{\exp[\beta_i&#39;w_j - \alpha_i p_j ]}{\sum_{k = 0}^J \exp[\beta_i&#39;w_k - \alpha_i p_k]} f(\beta_i, \alpha_i|y_i) d\beta_i d\alpha_i.
\end{equation}\]</span></li>
</ul>
</div>
<div id="mixed-logit-model-random-coefficient-model-1" class="section level3">
<h3><span class="header-section-number">4.4.32</span> Mixed Logit Model (Random-coefficient Model)</h3>
<ul>
<li>Now the preference is correlated as we desired.</li>
<li>For example, suppose it is a choice over cars, and <span class="math inline">\(w_{j1}\)</span> is the engine power.</li>
<li>Suppose <span class="math inline">\(\beta_{i1}\)</span>, the coefficient for <span class="math inline">\(w_{j1}\)</span> was high. Then, it means that the consumer likes a car with high engine power.</li>
<li>The preference of this consumer is, therefore, also higher for other cars with high <span class="math inline">\(w_{ji}\)</span>.</li>
<li>There is no IIA:
<span class="math display">\[\begin{equation}
\frac{s_{j}(p, w, y_i)}{s_{l}(p, w, y_i)} = \frac{\int_{\beta_i, \alpha_i} \frac{\exp[\beta_i&#39;w_j - \alpha_i p_j]}{\sum_{k = 0}^J \exp[\beta_i&#39;w_k - \alpha_i p_k]} f(\beta_i, \alpha_i|y_i) d\beta_i d\alpha_i}{\int_{\beta_i, \alpha_i} \frac{\exp[\beta_i&#39;w_l - \alpha_i p_l]}{\sum_{k = 0}^J \exp[\beta_i&#39;w_k - \alpha_i p_k]} f(\beta_i, \alpha_i|y_i) d\beta_i d\alpha_i}.
\end{equation}\]</span></li>
</ul>
</div>
<div id="mixed-logit-moel-price-elasticities" class="section level3">
<h3><span class="header-section-number">4.4.33</span> Mixed Logit Moel: Price Elasticities</h3>
<ul>
<li>The price elasticities of the choice probabilities is:
<span class="math display">\[\begin{equation}
e_{jk} = 
\begin{cases}
-\frac{p_j}{s_j} \int \alpha_i s_{ij}(1 - s_{ij})f(\beta_i, \alpha_i|y_i) d\beta_i d\alpha_i &amp;\text{   if   } j = k\\
\frac{p_k}{s_j} \int \alpha_i s_{ij} s_{ik} f(\beta_i, \alpha_i|y_i) d\beta_i d\alpha_i &amp;\text{   otherwise},
\end{cases} 
\end{equation}\]</span>
where
<span class="math display">\[\begin{equation}
s_{ij} = \frac{\exp[\beta_i&#39;w_j - \alpha_i p_j ]}{\sum_{k = 0}^J \exp[\beta_i&#39;w_k - \alpha_i p_k]}.
\end{equation}\]</span></li>
</ul>
</div>
<div id="mixed-logit-model-including-consumer-characteristics" class="section level3">
<h3><span class="header-section-number">4.4.34</span> Mixed Logit Model: Including Consumer Characteristics</h3>
<ul>
<li>The distribution of the random-coefficient can be conditional on observable consumer characteristics.</li>
<li>Let <span class="math inline">\(z_i\)</span> be a vector of observable consumer characteristics such as the family size, father’s age, mother’s age, ethnicity, and so on.
<span class="math display">\[\begin{equation}
s_{j}(p, w, y_i, z_i) = \int_{\beta_i, \alpha_i} \frac{\exp[\beta_i&#39;w_j - \alpha_i p_j ]}{\sum_{k = 0}^J \exp[\beta_i&#39;w_k - \alpha_i p_k]} f(\beta_i, \alpha_i|y_i, z_i) d\beta_i d\alpha_i.
\end{equation}\]</span></li>
<li>The distribution of <span class="math inline">\(\beta_i\)</span> is often assumed to be:
<span class="math display">\[\begin{equation}
\begin{split}
&amp;\beta_i = \Pi_0 z_i + \nu_i, \nu_i \sim N(0, \sigma_\nu^2).\\
&amp;\Rightarrow \beta_i&#39;w_j = z_i&#39; \Pi_0&#39; w_j + \nu_i&#39; w_j.
\end{split}
\end{equation}\]</span></li>
<li>Thus, observable consumer characteristics enter the mean indirect utility as interaction terms to observable product characteristics.</li>
</ul>
</div>
<div id="simulated-maximum-likelihood-estimation-of-the-mixed-logit-model-random-coefficient-model" class="section level3">
<h3><span class="header-section-number">4.4.35</span> Simulated Maximum Likelihood Estimation of the Mixed Logit Model (Random-coefficient Model)</h3>
<ul>
<li>The choice probability of the mixed logit model is an integration of the multinomial logit choice probability.</li>
<li>This is not derived analytically in general.</li>
<li><p>We use simulation to evaluate the choice probability:</p></li>
<li>Draw <span class="math inline">\(R\)</span> values of <span class="math inline">\(\beta\)</span> and <span class="math inline">\(\alpha\)</span>, <span class="math inline">\(\{\beta^r, \alpha^r \}_{r = 1}^R\)</span>.</li>
<li>Compute the multinomial choice probabilities associated with <span class="math inline">\((\beta^r, \alpha^r)\)</span> for each <span class="math inline">\(r = 1, \cdots, R\)</span>.</li>
<li>Approximate the choice probability with the mean of the simulated multinomial choice share:
<span class="math display">\[\begin{equation}
s_{j}(p, w, y_i) \approx \hat{s}_{j}(p, w, y_i) \equiv \frac{1}{R} \sum_{r = 1}^R  \frac{\exp[\beta^{r\prime} w_j - \alpha^r p_j ]}{\sum_{k = 0}^J \exp[\beta^{r\prime}w_k - \alpha^r p_k]}.
\end{equation}\]</span></li>
</ul>
</div>
<div id="simulated-maximum-likelihood-estimation-of-the-mixed-logit-model-random-coefficient-model-1" class="section level3">
<h3><span class="header-section-number">4.4.36</span> Simulated Maximum Likelihood Estimation of the Mixed Logit Model (Random-coefficient Model)</h3>
<ul>
<li>Suppose we observe a sequence of income <span class="math inline">\(y_i\)</span>, choice <span class="math inline">\(x_i\)</span>, product characteristics <span class="math inline">\(w_j\)</span> and price <span class="math inline">\(p_j\)</span>.</li>
<li><span class="math inline">\(x_i = (x_{i0}, \cdots, x_{iJ})&#39;\)</span> and <span class="math inline">\(x_{ij} = 1\)</span> if <span class="math inline">\(j\)</span> is chosen and <span class="math inline">\(0\)</span> otherwise.</li>
<li>The simulated log likelihood of <span class="math inline">\(\{x_i\}_{i = 1}^N\)</span> conditional on <span class="math inline">\(\{w_j, p_j\}_{j = 1}^J\)</span> is:
<span class="math display">\[\begin{equation}
\begin{split}
l(v; x, y, w) &amp;= \sum_{i = 1}^N \ln \mathbb{P}\{x_i = x(p, w_j, y_i)|p, w_j, y_i \}\\
&amp; \approx \sum_{i = 1}^N \log \Bigg\{ \prod_{j = 0}^{J} \hat{s}_{j}(p, w, y_i)^{x_{ij}} \Bigg\}.
\end{split}
\end{equation}\]</span></li>
</ul>
</div>
<div id="simulated-non-linear-least-square-estimation-of-the-mixed-logit-model-random-coefficient-model" class="section level3">
<h3><span class="header-section-number">4.4.37</span> Simulated Non-linear Least Square Estimation of the Mixed Logit Model (Random-coefficient model)</h3>
<ul>
<li>Suppose that there are <span class="math inline">\(t = 1, \cdots, T\)</span> markets.</li>
<li>The average income level is <span class="math inline">\(y_t\)</span> in market <span class="math inline">\(t\)</span>.</li>
<li>The average price level is <span class="math inline">\(p_i\)</span> in market <span class="math inline">\(t\)</span>.</li>
<li>We can simulate the choice share of product <span class="math inline">\(j\)</span> in market <span class="math inline">\(t\)</span> by <span class="math inline">\(\hat{s}_{j}(p_t, w, y_t)\)</span>.</li>
<li>Then we can estimate the parameter by:
<span class="math display">\[\begin{equation}
\min \sum_{t = 1}^T \sum_{j = 1}^J \{s_{jt} - \hat{s}_{j}(p_t, w, y_t)\}^2,
\end{equation}\]</span>
where <span class="math inline">\(s_{jt}\)</span> is the observed choice share of product <span class="math inline">\(j\)</span> in market <span class="math inline">\(t\)</span>.</li>
</ul>
</div>
<div id="nested-logit-model-a-special-case-of-mixed-logit-model" class="section level3">
<h3><span class="header-section-number">4.4.38</span> Nested Logit Model: A Special Case of Mixed Logit Model</h3>
<ul>
<li><p>Let <span class="math inline">\(w_{j1}, \cdots, w_{jG}\)</span> be the indicator of product category, i.e., <span class="math inline">\(w_{jg}\)</span> takes value 1 if good <span class="math inline">\(j\)</span> belong to category <span class="math inline">\(g\)</span> and 0 otherwise.</p></li>
<li><p>e.g., car category = {Sports, Luxury, Large, Midsize, Small}.</p></li>
<li>We have:
<span class="math display">\[\begin{equation}
\begin{split}
v(p, w_j, y_i; z_i) &amp;= \beta&#39;w_j - \alpha \ln(y_i - p_j)\\
&amp; + \underbrace{\sum_{g = 1}^G \zeta_{jg} w_{jg}}_{\text{this creates correlation within category}} + \epsilon_{ij}.
\end{split}
\end{equation}\]</span></li>
</ul>
</div>
<div id="nested-logit-model" class="section level3">
<h3><span class="header-section-number">4.4.39</span> Nested Logit Model</h3>
<ul>
<li>Let
<span class="math display">\[\begin{equation}
\varepsilon_{ij} \equiv \sum_{g = 1}^G \zeta_{jg} w_{jg} + \epsilon_{ij}.
\end{equation}\]</span></li>
<li>Under certain distributional assumption on <span class="math inline">\(\zeta_{jg}\)</span> and <span class="math inline">\(\epsilon_{ij}\)</span>, the term <span class="math inline">\(\varepsilon_{ij}\)</span> have a cumulative distribution:
<span class="math display">\[\begin{equation}
F(\varepsilon_i) = \exp\Bigg\{- \sum_{g = 1}^G \Bigg(\sum_{j \in \text{   category   } g} \exp[-\varepsilon_{ij}/\lambda_g] \Bigg)^{\lambda_g}  \Bigg\}.
\end{equation}\]</span></li>
</ul>
</div>
<div id="nested-logit-model-1" class="section level3">
<h3><span class="header-section-number">4.4.40</span> Nested Logit Model</h3>
<ul>
<li>Under this distributional assumption, the choice probability is:
<span class="math display">\[\begin{equation}
\begin{split}
s_{j}(p, w, y_i) = \frac{\exp[v(p, w_j, y_i)/\lambda_g] \Bigg(\sum_{k \in \text{   category   } g} \exp[v(p, w_k, y_i)/\lambda_g]\Bigg)^{\lambda_g - 1}}{\sum_{g = 1}^G \Bigg(\sum_{k \in \text{   category   } g} \exp[v(p, w_k, y_i)/\lambda_g]\Bigg)^{\lambda_g}},
\end{split}
\end{equation}\]</span>
if good <span class="math inline">\(j\)</span> belongs to category <span class="math inline">\(g\)</span>.</li>
<li>The higher <span class="math inline">\(\lambda_g \in [0, 1]\)</span> implies lower correlation within category <span class="math inline">\(g\)</span>.</li>
<li><span class="math inline">\(\lambda_g = 1\)</span> for all <span class="math inline">\(g\)</span> coincides with the multinomial logit model.</li>
</ul>
</div>
<div id="discrete-choice-model-with-endogenous-variables" class="section level3">
<h3><span class="header-section-number">4.4.41</span> Discrete Choice Model with Endogenous Variables</h3>
<ul>
<li>We have assumed that good <span class="math inline">\(j\)</span> is characterized by a vector <span class="math inline">\(w_j\)</span>.</li>
<li>Can econometrician observe all the relevant characteristics for goods in the choice set?</li>
<li>Maybe no. For example, econometrician may not observe brand values that are created by advertisement and recognized by consumers.</li>
<li>Moreover, such unobserved product characteristics are likely to be correlated with the price.</li>
<li>This causes an endogeneity problem.</li>
</ul>
</div>
<div id="market-level-data" class="section level3">
<h3><span class="header-section-number">4.4.42</span> Market-level Data</h3>
<ul>
<li>We consider a situation where there are <span class="math inline">\(t = 1, \cdots, T\)</span> market, and product characteristics <span class="math inline">\(\{w_j\}_{j = 1}^J\)</span>, average price vector of each market <span class="math inline">\(\{p_{t}\}_{t = 1}^{T}\)</span>, and the choice probabilities of each market <span class="math inline">\(\{s_t\}_{t = 1}^T\)</span>, and the average income of each market <span class="math inline">\(\{y_t\}_{t = 1}^T\)</span> are observed.</li>
<li>We revisit choice-level data case later.</li>
</ul>
</div>
<div id="unobserved-fixed-effects-in-multinomial-logit-model" class="section level3">
<h3><span class="header-section-number">4.4.43</span> Unobserved Fixed Effects in Multinomial Logit Model</h3>
<ul>
<li>Suppose that the indirect utility function of good <span class="math inline">\(j\)</span> for consumer <span class="math inline">\(i\)</span> in market <span class="math inline">\(t\)</span> is:
<span class="math display">\[\begin{equation}
\beta&#39; w_j  - \alpha p_{jt} - \xi_{jt} + \epsilon_{ik},
\end{equation}\]</span>
where <span class="math inline">\(\epsilon_{ik}\)</span> is i.i.d. Type-I extreme value.</li>
<li><span class="math inline">\(\xi_{jt}\)</span> is unobserved fixed effect of product <span class="math inline">\(j\)</span> in market <span class="math inline">\(t\)</span>, which can be correlated with <span class="math inline">\(p_{jt}\)</span>.</li>
<li>The choice probability of good <span class="math inline">\(j\)</span> for this consumer and hence the choice share in this market is:
<span class="math display">\[\begin{equation}
s_j(p_t, w, \xi_t) = \frac{\exp(\beta&#39; w_j - \alpha p_{jt} + \xi_{jt})}{1 + \sum_{k = 1}^J\exp(\beta&#39; w_k - \alpha p_{kt} +  \xi_{kt} ) }.
\end{equation}\]</span></li>
<li>How to deal with the endogeneity?</li>
</ul>
</div>
<div id="unobserved-fixed-effects-in-multinomial-logit-model-1" class="section level3">
<h3><span class="header-section-number">4.4.44</span> Unobserved Fixed Effects in Multinomial Logit Model</h3>
<ul>
<li>Suppose that we have a vector of instrumental variables <span class="math inline">\(z_{jt}\)</span> such that:
<span class="math display">\[\begin{equation}
\mathbb{E}\{\xi_{jt}|z_{jt}\} = 0.
\end{equation}\]</span></li>
<li>Remember that in the IV estimator for a liner model, we write:
<span class="math display">\[\begin{equation}
\epsilon_{jt} = y_{jt} - \beta&#39;x_{jt},
\end{equation}\]</span>
and exploit a moment condition such as:
<span class="math display">\[\begin{equation}
\begin{split}
&amp;\mathbb{E}\{\epsilon_{jt}|z_{jt}\} = 0,\\
&amp;\Rightarrow \mathbb{E}\{ \epsilon_{jt} z_{jt}\} = 0,\\
&amp;\Leftrightarrow \mathbb{E}\{(y_{jt} - \beta&#39;x_{jt}) z_{jt} \} = 0
\end{split}
\end{equation}\]</span></li>
<li>To use the moment condition above, we have to write <span class="math inline">\(\xi_{jt}\)</span> as a function of parameters of interest.</li>
</ul>
</div>
<div id="unobserved-fixed-effects-in-multinomial-logit-model-2" class="section level3">
<h3><span class="header-section-number">4.4.45</span> Unobserved Fixed Effects in Multinomial Logit Model</h3>
<ul>
<li>This is straightforward in multinomial logit models.</li>
<li>Remember that we have:
<span class="math display">\[\begin{equation}
\begin{split}
&amp;\ln [s_j(p_t, w, \xi_t) / s_0(p_t, w, \xi_t)] = \beta&#39; w_j - \alpha p_{jt} + \xi_{jt}\\
&amp;\Leftrightarrow \xi_{jt} = \ln [s_j(p_t, w, \xi_t) / s_0(p_t, w, \xi_t)] - [\beta&#39; w_j - \alpha p_{jt}].
\end{split}
\end{equation}\]</span></li>
<li>Therefore, the moment condition can be written as:
<span class="math display">\[\begin{equation}
\begin{split}
&amp;\mathbb{E}\{\xi_{jt}|z_{jt}\} = 0,\\
&amp;\Rightarrow \mathbb{E}\{\xi_{jt} z_{jt}\} = 0,\\
&amp;\Leftrightarrow \mathbb{E}\{(\ln [s_{jt} / s_{0t}] - [\beta&#39; w_j - \alpha p_{jt}]) z_{jt}  \} = 0,
\end{split}
\end{equation}\]</span>
where <span class="math inline">\(s_{jt}\)</span> is the observed choice share of product <span class="math inline">\(j\)</span> in market <span class="math inline">\(t\)</span>.</li>
</ul>
</div>
<div id="unobserved-fixed-effects-in-multinomial-logit-model-3" class="section level3">
<h3><span class="header-section-number">4.4.46</span> Unobserved Fixed Effects in Multinomial Logit Model</h3>
<ul>
<li>If you can assume <span class="math inline">\(\xi_{jt} = \xi_j\)</span>, then
<span class="math display">\[\begin{equation}
ln [s_j(p_t, w, \xi_t) / s_0(p_t, w, \xi_t)] = \beta&#39; w_j - \alpha p_{jt} + \xi_{j}.
\end{equation}\]</span></li>
<li>This is nothing but a linear regression of <span class="math inline">\(ln [s_j(p_t, w, \xi_t) / s_0(p_t, w, \xi_t)]\)</span> on <span class="math inline">\(w_j\)</span> and <span class="math inline">\(p_{jt}\)</span> with product-specific unobserved fixed effect.</li>
<li>This can be estimated by a within-market estimator.</li>
<li>This is a good starting point.</li>
</ul>
</div>
<div id="unobserved-fixed-effects-in-mixed-logit-model" class="section level3">
<h3><span class="header-section-number">4.4.47</span> Unobserved Fixed Effects in Mixed-logit Model</h3>
<ul>
<li>Suppose that the indirect utility function of good <span class="math inline">\(j\)</span> for consumer <span class="math inline">\(i\)</span> in market <span class="math inline">\(t\)</span> is:
<span class="math display">\[\begin{equation}
\beta_i&#39; w_j  - \alpha_i p_{jt} - \xi_{jt} + \epsilon_{ik},
\end{equation}\]</span>
where <span class="math inline">\(\epsilon_{ik}\)</span> is i.i.d. Type-I extreme value.</li>
<li><span class="math inline">\(\xi_{jt}\)</span> is unobserved fixed effect of product <span class="math inline">\(j\)</span> in market <span class="math inline">\(t\)</span>, which can be correlated with <span class="math inline">\(p_{jt}\)</span>.</li>
<li>The random-coefficient <span class="math inline">\(\beta_{il}\)</span> and <span class="math inline">\(\alpha_i\)</span> are drawn from:
<span class="math display">\[\begin{equation}
\begin{split}
&amp;\beta_{il} = \beta_l + \sigma_{\beta l} \nu_{il}, l = 1, \cdots, L,\\
&amp;\alpha_i = \alpha + \sigma_{\alpha} \nu_{i},
\end{split}
\end{equation}\]</span>
where <span class="math inline">\(\nu_{il}\)</span> and <span class="math inline">\(\nu_i\)</span> are i.i.d. standard normal distribution.</li>
<li>Then the indirect utility of good <span class="math inline">\(j\)</span> for consumer <span class="math inline">\(i\)</span> in market <span class="math inline">\(t\)</span> is written as:
<span class="math display">\[\begin{equation}
\underbrace{\sum_{l = 1}^L \beta_{l} w_{jl} - \alpha p_{jt} + \xi_{jt}}_{\text{product and market specific}} + \underbrace{\sum_{l = 1}^L \sigma_{\beta k} \nu_{il} w_{jl} - \sigma_{\alpha} \nu_i p_{jt}}_{\text{individual heterogeneity matters}}.
\end{equation}\]</span></li>
</ul>
</div>
<div id="unobserved-fixed-effects-in-mixed-logit-model-1" class="section level3">
<h3><span class="header-section-number">4.4.48</span> Unobserved Fixed Effects in Mixed-logit Model</h3>
<ul>
<li>The choice share of good <span class="math inline">\(j\)</span> in market <span class="math inline">\(t\)</span> is:
<span class="math display">\[\begin{equation}
s_{j}(p_t, w, \xi_t) = \int \frac{\exp\Bigg(\sum_{l = 1}^L \beta_{l} w_{jl} - \alpha p_{jt} + \xi_{jt} + \sum_{l = 1}^L \sigma_{\beta k} \nu_{il} w_{jl} - \sigma_{\alpha} \nu_i p_{jt} \Bigg)}{1 + \sum_{k = 1}^J \exp\Bigg(\sum_{l = 1}^L \beta_{l} w_{kl} - \alpha p_{kt} + \xi_{kt} + \sum_{l = 1}^L \sigma_{\beta k} \nu_{il} w_{kl} - \sigma_{\alpha} \nu_i p_{kt} \Bigg)} f(\nu) d\nu.
\end{equation}\]</span></li>
<li>How can we represent <span class="math inline">\(\xi_{jt}\)</span> as a function of parameters of interest to exploit the moment condition?</li>
<li>Let <span class="math inline">\(\theta_1 = \{\{\beta_l\}_{l = 1}^L, \alpha\}\)</span> and <span class="math inline">\(\theta_2 = \{\{\sigma_{\beta l}\}_{l = 1}^L, \sigma_{\alpha}\}\)</span>.</li>
<li>The parameters of interest are <span class="math inline">\(\theta = \{\theta_1, \theta_2\}\)</span>.</li>
<li>I will call <span class="math inline">\(\theta_1\)</span> linear parameters and <span class="math inline">\(\theta_2\)</span> non-linear parameters for reasons I explain later.</li>
<li>Let <span class="math inline">\(s_{j}(p_t, w, \xi_t; \theta)\)</span> denote the choice probability implied by parameters <span class="math inline">\(\theta\)</span> to make the dependence explicit.</li>
</ul>
</div>
<div id="representing-xi_jt-as-a-function-of-parameters-of-interest" class="section level3">
<h3><span class="header-section-number">4.4.49</span> Representing <span class="math inline">\(\xi_{jt}\)</span> as a Function of Parameters of Interest</h3>
<ul>
<li>The following equality implicitly determines <span class="math inline">\(\xi_{jt}\)</span> as a function of parameters of interest:
<span class="math display">\[\begin{equation}
s_{jt} = s_{j}(p_t, w, \xi_t; \theta),
\end{equation}\]</span>
where <span class="math inline">\(s_{jt}\)</span> is the observed choice share of good <span class="math inline">\(j\)</span> in market <span class="math inline">\(t\)</span>.</li>
<li>Let <span class="math inline">\(\xi_{jt}(\theta)\)</span> is the solution to the equation above given parameter <span class="math inline">\(\theta\)</span>.</li>
<li>Does this solution exist?</li>
<li>Is it unique?</li>
<li>Is there efficient method to find the solution?</li>
</ul>
</div>
<div id="solving-for-xi_jttheta" class="section level3">
<h3><span class="header-section-number">4.4.50</span> Solving for <span class="math inline">\(\xi_{jt}(\theta)\)</span></h3>
<ul>
<li>Now, let <span class="math inline">\(\delta_{jt}\)</span> be the product and market specific terms in the indirect utility:
<span class="math display">\[\begin{equation}
\delta_{jt} \equiv \sum_{l = 1}^L \beta_{l} w_{jl} - \alpha p_{jt} + \xi_{jt}.
\end{equation}\]</span></li>
<li>I call it the average utility of the product in the market.</li>
<li>Then, the choice share of product <span class="math inline">\(j\)</span> in market <span class="math inline">\(t\)</span> is written as:
<span class="math display">\[\begin{equation}
\begin{split}
&amp;\sigma_{jt}(\delta_t, \theta_2) \\
&amp;\equiv \int \frac{\exp\Bigg(\delta_{jt} + \sum_{l = 1}^L \sigma_{\beta k} \nu_{il} w_{jl} - \sigma_{\alpha} \nu_i p_{jt} \Bigg)}{1 + \sum_{k = 1}^J \exp\Bigg(\delta_{kt} + \sum_{l = 1}^L \sigma_{\beta k} \nu_{il} w_{kl} - \sigma_{\alpha} \nu_i p_{kt} \Bigg)} f(\nu) d\nu,
\end{split}
\end{equation}\]</span>
for <span class="math inline">\(j = 1, \cdots, J, t = 1, \cdots, T\)</span>.</li>
</ul>
</div>
<div id="solving-for-xi_jttheta-1" class="section level3">
<h3><span class="header-section-number">4.4.51</span> Solving for <span class="math inline">\(\xi_{jt}(\theta)\)</span></h3>
<ul>
<li>Now, fix <span class="math inline">\(\theta_2\)</span> and define an operator <span class="math inline">\(T\)</span> such that:
<span class="math display">\[\begin{equation}
T_t(\delta_t) = \delta_t + \ln \underbrace{s_{jt}}_{\text{data}} - \ln \underbrace{\sigma_{jt}(\delta_t, \theta_2)}_{\text{model}}.
\end{equation}\]</span></li>
<li>Let <span class="math inline">\(\delta_t^{(0)} = (\delta_{1t}^{(0)}, \cdots, \delta_{Jt}^{(0)})&#39;\)</span> be an arbitrary starting vector of average utility of products in a market.</li>
<li>Using the operator above, we update <span class="math inline">\(\delta_{t}^{(r)}\)</span> by:
<span class="math display">\[\begin{equation}
\delta_{t}^{(r + 1)} = T_t(\delta_{t}^{(r)}) = \delta_t^{(r)} + \ln s_{jt} - \ln \sigma_{jt}(\delta_t^{(r)}, \theta_2),
\end{equation}\]</span>
for <span class="math inline">\(r = 0, 1, \cdots\)</span>.</li>
</ul>
</div>
<div id="solving-for-xi_jttheta-2" class="section level3">
<h3><span class="header-section-number">4.4.52</span> Solving for <span class="math inline">\(\xi_{jt}(\theta)\)</span></h3>
<ul>
<li>Berry, Levinsohn and Pakes (1995) proved that <span class="math inline">\(T_t\)</span> as specified above is a .</li>
<li>This means that i) <span class="math inline">\(T_t\)</span> has a unique fixed point and ii) for arbitrary <span class="math inline">\(\delta_t^{(r)}\)</span>, <span class="math inline">\(\lim_{r \to \infty} T_t^r(\delta_t^{(0)})\)</span> is the unique fixed point.</li>
<li>The fixed point of <span class="math inline">\(T_t\)</span> is <span class="math inline">\(\delta_t^*\)</span> such that <span class="math inline">\(\delta_t^* = T_t(\delta_t^*)\)</span>, i.e.,
<span class="math display">\[\begin{equation}
\begin{split}
&amp;\delta_t^* = \delta_t^* + \ln s_{jt} - \ln \sigma_{jt}(\delta_t^*, \theta_2),\\
&amp;\Leftrightarrow s_{jt} = \sigma_{jt}(\delta_t^*, \theta_2).
\end{split}
\end{equation}\]</span></li>
<li>So, the fixed point <span class="math inline">\(\delta_t^*\)</span> is the average utility that solves the equality given non-linear parameter <span class="math inline">\(\theta_2\)</span>.</li>
<li>Moreover, the solution is unique.</li>
<li>Moreover, it can be found by iterating the operator.</li>
<li>Let <span class="math inline">\(\delta_t(\theta_2)\)</span> be the solution to this equation that are computed by iteratively applying the operator.</li>
</ul>
</div>
<div id="solving-for-xi_jttheta-3" class="section level3">
<h3><span class="header-section-number">4.4.53</span> Solving for <span class="math inline">\(\xi_{jt}(\theta)\)</span></h3>
<ul>
<li>We defined the average utility as:
<span class="math display">\[\begin{equation}
\delta_t = \sum_{l = 1}^L \beta_{l} w_{jl} - \alpha p_{jt} + \xi_{jt}.
\end{equation}\]</span></li>
<li>Hence,
<span class="math display">\[\begin{equation}
\xi_{jt}(\theta) = \delta_t(\theta_2) - \Bigg[\sum_{l = 1}^L \beta_{l} w_{jl} - \alpha p_{jt} \Bigg],
\end{equation}\]</span>
solves the equality:
<span class="math display">\[\begin{equation}
s_{jt} = s_{j}(p_t, w, \xi_t; \theta).
\end{equation}\]</span></li>
</ul>
</div>
<div id="solving-for-xi_jttheta-4" class="section level3">
<h3><span class="header-section-number">4.4.54</span> Solving for <span class="math inline">\(\xi_{jt}(\theta)\)</span></h3>
<ul>
<li><p>In summary, <span class="math inline">\(\xi_{jt}\)</span> that solves the equality exists and unique, and can be computed by:</p></li>
<li>Fix <span class="math inline">\(\theta = \{\theta_1, \theta_2\}\)</span>.</li>
<li>Fix arbitrary starting value <span class="math inline">\(\delta_t^{(0)}\)</span> for <span class="math inline">\(t = 1, \cdots, T\)</span>.</li>
<li><p>Let <span class="math inline">\(\delta_t(\theta_2)\)</span> be the limit of <span class="math inline">\(T_t^r(\delta_t^{(0)})\)</span> for <span class="math inline">\(r = 0, 1, \cdots\)</span> for each <span class="math inline">\(t = 1, \cdots, T\)</span>.</p></li>
<li><p>Stop the iteration if <span class="math inline">\(|\delta_t(\theta_2)^{(r + 1)} - \delta_t(\theta_2)^{(r)}|\)</span> is below a threshold.</p></li>
<li>Let <span class="math inline">\(\xi_{jt}(\theta)\)</span> be such that:
<span class="math display">\[\begin{equation}
\xi_{jt}(\theta) = \delta_t(\theta_2) - \Bigg[\sum_{l = 1}^L \beta_{l} w_{jl} - \alpha p_{jt} \Bigg].
\end{equation}\]</span></li>
<li><p>We run this algorithm every time we evaluate the moment condition.</p></li>
</ul>
</div>
<div id="estimating-parameters" class="section level3">
<h3><span class="header-section-number">4.4.55</span> Estimating Parameters</h3>
<ul>
<li>Find <span class="math inline">\(\theta\)</span> that solves:
<span class="math display">\[\begin{equation}
\min_{\theta} \xi(\theta)&#39; Z W^{-1} Z&#39; \xi(\theta),
\end{equation}\]</span>
where <span class="math inline">\(W\)</span> is some weight matrix,
<span class="math display">\[\begin{equation}
\xi(\theta) = 
\begin{pmatrix}
\xi_1(\theta)\\
\vdots\\
\xi_T(\theta)
\end{pmatrix},
Z = 
\begin{pmatrix}
z_{11}&#39; \\
\vdots \\
z_{J1}&#39; \\
\vdots \\
z_{1T}&#39; \\
\vdots \\
z_{JT}&#39; \\
\end{pmatrix}.
\end{equation}\]</span></li>
<li>There are <span class="math inline">\(J \to \infty\)</span> and <span class="math inline">\(T \to \infty\)</span> asymptotics. Either is fine to consistently estimate the parameters.</li>
</ul>
</div>
<div id="estimating-parameters-1" class="section level3">
<h3><span class="header-section-number">4.4.56</span> Estimating Parameters</h3>
<ul>
<li>The first-order condition for <span class="math inline">\(\theta_1\)</span> is:
<span class="math display">\[\begin{equation}
\theta_1 = (X_1&#39;Z W^{-1} Z&#39;X_1)^{-1} X_1&#39; Z W^{-1} Z&#39; \delta(\theta_2),
\end{equation}\]</span>
where
<span class="math display">\[\begin{equation}
X_1 = 
\begin{pmatrix}
\tilde{X}_1 &amp; - p_1\\
\vdots &amp; \vdots \\
\tilde{X}_1 &amp; - p_T
\end{pmatrix},
\tilde{X}_1 =
\begin{pmatrix}
w_{11} &amp; \cdots &amp; w_{1L}\\
\vdots &amp; &amp; \vdots\\
w_{J1} &amp; \cdots &amp; w_{JL}
\end{pmatrix},
\delta(\theta_2) =
\begin{pmatrix}
\delta_1(\theta_2)\\
\vdots\\
\delta_T(\theta_2)
\end{pmatrix}
\end{equation}\]</span>
.</li>
<li>So, finding optimal <span class="math inline">\(\theta_1\)</span> given <span class="math inline">\(\theta_2\)</span> is easy.</li>
<li>We search over <span class="math inline">\(\theta_2\)</span> and find optimal <span class="math inline">\(\theta_1\)</span> for <span class="math inline">\(\theta_2\)</span> from the first-order condition above.</li>
</ul>
</div>
<div id="instrumental-variables" class="section level3">
<h3><span class="header-section-number">4.4.57</span> Instrumental Variables</h3>
<ul>
<li><p>Hausman-type IV:</p></li>
<li>Assume that demand shocks independent across markets, while the cost shocks are correlated.</li>
<li><p>Then, the prices of goods in other markets <span class="math inline">\(p_{j, -t}\)</span> will be valid instruments for the price of goods in a given market, <span class="math inline">\(p_{jt}\)</span>.</p></li>
<li><p>BLP-type IV:</p></li>
<li>In oligopoly, the price of a good in a market depends on the market structure, i.e., what kind of products are available in the market.</li>
<li>For example, if there are similar products in the market, the price will tend to be lower.</li>
<li>Then, the product characteristics of other products in the market , will be valid instrument for the price of goods in a given market, <span class="math inline">\(p_{jt}\)</span>.</li>
<li><p>If there are multi-product firms, whether the other good is owned by the same company will also affect the price.</p></li>
</ul>
</div>
<div id="optimal-blp-type-iv" class="section level3">
<h3><span class="header-section-number">4.4.58</span> Optimal BLP-type IV</h3>
<ul>
<li>When <span class="math inline">\(\mathbb{E}\{\xi_{jt}|z_{t}\} = 0\)</span> holds, then for any function <span class="math inline">\(H\)</span>, we have:
<span class="math display">\[\begin{equation}
\mathbb{E}\{\xi_{jt} H(z_{t}) \} = \mathbb{E}\{\mathbb{E}\{\xi_{jt}|z_{jt}\}H(z_{t})\} = 0.
\end{equation}\]</span></li>
<li>The choice of <span class="math inline">\(H\)</span> matters the efficiency.</li>
<li><span class="math inline">\(H\)</span> should be something that makes it harder to satisfy the condition when the parameter to evaluate is away from the true parameter.</li>
<li>Let <span class="math inline">\(d_{jk} = d(w_j, w_k)\)</span> be some distance between product characteristics.</li>
<li>It is known that the optimal IV <span class="math inline">\(H\)</span> for <span class="math inline">\(p_{jt}\)</span> is a function of the distribution of <span class="math inline">\(\{d_{jk}\}_{k \neq j, k\text{   is available in market   }t}\)</span>, <span class="math inline">\(F_j(d)\)</span>.</li>
<li>We can compute empirical distribution of <span class="math inline">\(F_j(d)\)</span> in a market, <span class="math inline">\(\hat{F}_j(d)\)</span>.</li>
<li>We can use some moments of <span class="math inline">\(\hat{F}_j(d)\)</span> as IV for <span class="math inline">\(p_{jt}\)</span>.</li>
</ul>
</div>
<div id="control-function-approach" class="section level3">
<h3><span class="header-section-number">4.4.59</span> Control Function Approach</h3>
<ul>
<li>The equilibrium price vector in a market is determined by product characteristics, and productivity and demand conditions.</li>
<li>It will depends on the unobserved product characteristics <span class="math inline">\(\xi_{jt}\)</span>.</li>
<li>Suppose that the equilibrium price vector in a market is determined by:
<span class="math display">\[\begin{equation}
p_{t} = P(w, z_t, \xi_t),
\end{equation}\]</span>
where <span class="math inline">\(z_t\)</span> is a vector of variables that affect the price but are excluded from the indirect utility function.</li>
<li>If we can estimate it and it is invertible in <span class="math inline">\(\xi_t\)</span>, then, we can have a proxy for <span class="math inline">\(\xi_t\)</span> such as:
<span class="math display">\[\begin{equation}
\hat{\xi}_t = \hat{P}^{-1}(w, z_t).
\end{equation}\]</span></li>
<li>If we insert this into the previous models, <span class="math inline">\(\xi_{jt}\)</span> is no longer  product characteristics.</li>
<li>This approach is similar to Olley and Pakes method for production function estimation.</li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="production.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="assignment1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["lecture.pdf", "lecture.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
